<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Obscenity Trade Connections Network (1800–1900)</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
<style>
@import url('https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400&display=swap');

* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: Futura, 'Jost', sans-serif; background: #ACCAB2; color: #2c2c2c; overflow: hidden; }

#container { display: flex; height: 100vh; }

#sidebar {
  width: 320px; min-width: 320px; background: #eae6dd;
  border-right: 1px solid #d5cfc3;
  display: flex; flex-direction: column; overflow: hidden; z-index: 10;
}

#sidebar-header { padding: 22px 18px 16px; border-bottom: 1px solid #d5cfc3; background: #872a0f; }
#sidebar-header h1 { font-family: Futura, 'Jost', sans-serif; font-size: 22px; font-weight: 300; color: #f2efe8; margin-bottom: 2px; letter-spacing: 2px; text-transform: uppercase; }
#sidebar-header p { font-size: 10px; color: rgba(242,239,232,0.65); font-weight: 400; letter-spacing: 0.5px; }

#controls { padding: 12px 18px; border-bottom: 1px solid #8aad9a; background: #ACCAB2; position: relative; }
#controls label { font-size: 9px; color: #3a5a48; text-transform: uppercase; letter-spacing: 1.5px; display: block; margin-bottom: 6px; font-weight: 500; }

#search {
  width: 100%; padding: 7px 10px; background: rgba(255,255,255,0.4); border: 1px solid #8aad9a;
  border-radius: 3px; color: #2c2c2c; font-size: 12px; outline: none; font-family: Futura, 'Jost', sans-serif;
}
#search:focus { border-color: #872a0f; box-shadow: 0 0 0 2px rgba(135,42,15,0.15); }
#search::placeholder { color: #5a7a68; }

#search-dropdown {
  position: absolute; left: 18px; right: 18px; background: #f4f0e8; border: 1px solid #8aad9a;
  border-top: none; border-radius: 0 0 3px 3px; max-height: 240px; overflow-y: auto;
  z-index: 20; display: none; box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}
#search-dropdown .dropdown-item {
  padding: 6px 10px; font-size: 12px; font-family: Futura, 'Jost', sans-serif;
  cursor: pointer; color: #2c2c2c; border-bottom: 1px solid rgba(138,173,154,0.2);
}
#search-dropdown .dropdown-item:last-child { border-bottom: none; }
#search-dropdown .dropdown-item:hover, #search-dropdown .dropdown-item.active { background: rgba(135,42,15,0.08); color: #872a0f; }
#search-dropdown .dropdown-item .item-connections { font-size: 10px; color: #8a8478; margin-left: 6px; }
#search-dropdown::-webkit-scrollbar { width: 4px; }
#search-dropdown::-webkit-scrollbar-thumb { background: #8aad9a; border-radius: 3px; }

#filter-row { display: flex; flex-wrap: wrap; gap: 5px; margin-top: 10px; }

.filter-btn {
  padding: 3px 9px; border-radius: 2px; border: 1px solid #8aad9a; background: rgba(255,255,255,0.35);
  color: #2a3a30; font-size: 10px; cursor: pointer; transition: all 0.15s; font-family: Futura, 'Jost', sans-serif; font-weight: 500;
}
.filter-btn:hover { border-color: #872a0f; color: #872a0f; background: rgba(255,255,255,0.5); }
.filter-btn.active { color: #f2efe8; border-color: transparent; }
.filter-btn[data-cat="Family"].active { background: #F0DDB4; color: #2c2c2c; }
.filter-btn[data-cat="Business"].active { background: #78574D; }
.filter-btn[data-cat="Co-defendants"].active { background: #E9BB3E; color: #2c2c2c; }
.filter-btn[data-cat="Shared Address"].active { background: #D44720; }
.filter-btn[data-cat="Other"].active { background: #4A6A5C; }
.filter-btn[data-cat="All"].active { background: #872a0f; }

#info-panel {
  flex: 1; overflow-y: auto; padding: 14px 18px; background: #ACCAB2;
}

#info-panel::-webkit-scrollbar { width: 4px; }
#info-panel::-webkit-scrollbar-track { background: transparent; }
#info-panel::-webkit-scrollbar-thumb { background: #8aad9a; border-radius: 3px; }

#info-content { font-size: 12px; line-height: 1.55; }

.info-title { font-family: Futura, 'Jost', sans-serif; font-size: 20px; font-weight: 700; color: #2c2c2c; margin-bottom: 4px; }
.info-subtitle { font-size: 11px; color: #3a5a48; margin-bottom: 14px; font-weight: 300; }
.info-section { margin-bottom: 14px; }
.info-section h3 { font-size: 9px; color: #872a0f; text-transform: uppercase; letter-spacing: 1.5px; margin-bottom: 6px; font-weight: 600; }

.connection-item {
  padding: 8px 10px; background: rgba(255,255,255,0.35); border-radius: 3px; margin-bottom: 5px;
  border-left: 3px solid #8aad9a; cursor: pointer; transition: background 0.15s;
}
.connection-item:hover { background: rgba(255,255,255,0.5); }
.connection-item .conn-person { font-family: Futura, 'Jost', sans-serif; font-weight: 600; color: #2c2c2c; font-size: 13px; }
.connection-item .conn-type { font-size: 10px; color: #872a0f; margin-top: 2px; font-style: italic; }
.connection-item .conn-detail { font-size: 11px; color: #2a3a30; margin-top: 4px; line-height: 1.4; }
.connection-item.cat-Family { border-left-color: #F0DDB4; }
.connection-item.cat-Business { border-left-color: #78574D; }
.connection-item.cat-Co-defendants { border-left-color: #E9BB3E; }
.connection-item.cat-Shared-Address { border-left-color: #D44720; }

#legend {
  padding: 12px 18px; border-top: 1px solid #8aad9a; background: #ACCAB2;
}
#legend h3 { font-size: 9px; color: #3a5a48; text-transform: uppercase; letter-spacing: 1.5px; margin-bottom: 8px; font-weight: 500; }
.legend-items { display: flex; flex-wrap: wrap; gap: 12px; }
.legend-item { display: flex; align-items: center; gap: 5px; font-size: 10px; color: #2a3a30; }
.legend-dot { width: 8px; height: 8px; border-radius: 50%; }

#graph-container { flex: 1; position: relative; background: #ACCAB2; }

svg { width: 100%; height: 100%; background: #ACCAB2; }

.link { fill: none; stroke: #6a8a7a; stroke-opacity: 0.3; }
.link.cat-Family { stroke: #c8b888; stroke-opacity: 0.35; }
.link.cat-Business { stroke: #78574D; stroke-opacity: 0.3; }
.link.cat-Co-defendants { stroke: #c8a020; stroke-opacity: 0.35; }
.link.cat-Shared-Address { stroke: #D44720; stroke-opacity: 0.3; }
.link.cat-Other { stroke: #3a5a4a; stroke-opacity: 0.25; }
.link.highlighted { stroke-opacity: 0.65; stroke-width: 1.5px !important; }
.link.dimmed { stroke-opacity: 0.03; }

.node circle { stroke: #8fb8a2; stroke-width: 1.5px; cursor: pointer; transition: r 0.15s; }
.node circle.dimmed { opacity: 0.08; }
.node text { fill: #1a2a20; font-size: 8.5px; font-family: Futura, 'Jost', sans-serif; font-weight: 600; pointer-events: none; opacity: 0; transition: opacity 0.15s; text-shadow: 1px 1px 2px #ACCAB2, -1px -1px 2px #ACCAB2, 1px -1px 2px #ACCAB2, -1px 1px 2px #ACCAB2, 0 0 6px #ACCAB2, 0 0 10px #ACCAB2; }
.node text.visible { opacity: 0.9; }
.node text.dimmed { opacity: 0; }
.node.selected circle { stroke: #872a0f; stroke-width: 2.5px; }

#tooltip {
  position: absolute; pointer-events: none; background: #f4f0e8; border: 1px solid #c0b8a8;
  border-radius: 3px; padding: 10px 14px; font-size: 12px; max-width: 280px;
  box-shadow: 0 3px 15px rgba(44,44,44,0.1); opacity: 0; transition: opacity 0.15s; z-index: 100;
}
#tooltip .tt-name { font-family: Futura, 'Jost', sans-serif; font-weight: 600; color: #2c2c2c; margin-bottom: 4px; }
#tooltip .tt-info { color: #8a8478; font-size: 11px; }

#stats {
  position: absolute; bottom: 14px; right: 14px; background: rgba(234,230,221,0.9); border: 1px solid #d5cfc3;
  border-radius: 3px; padding: 8px 14px; font-size: 10px; color: #8a8478;
}

#zoom-controls {
  position: absolute; top: 14px; right: 14px; display: flex; flex-direction: column; gap: 3px;
}
.zoom-btn {
  width: 28px; height: 28px; background: rgba(234,230,221,0.95); border: 1px solid #d5cfc3; border-radius: 3px;
  color: #872a0f; font-size: 14px; cursor: pointer; display: flex; align-items: center; justify-content: center;
}
.zoom-btn:hover { background: #e0dbd0; border-color: #b0a898; }

#timeline-control { margin-top: 12px; }
#timeline-control label { font-size: 9px; color: #3a5a48; text-transform: uppercase; letter-spacing: 1.5px; display: block; margin-bottom: 6px; font-weight: 500; }
#range-slider-container {
  position: relative; width: 100%; height: 24px; margin-top: 4px;
}
#range-track {
  position: absolute; top: 10px; left: 0; right: 0; height: 4px;
  background: rgba(255,255,255,0.4); border-radius: 2px;
}
#range-fill {
  position: absolute; top: 10px; height: 4px; background: #872a0f; border-radius: 2px;
  opacity: 0.6;
}
.range-thumb {
  position: absolute; top: 4px; width: 16px; height: 16px; border-radius: 50%;
  background: #872a0f; border: 2px solid #f2efe8; cursor: pointer; z-index: 2;
  transform: translateX(-8px); box-shadow: 0 1px 3px rgba(0,0,0,0.2);
  transition: box-shadow 0.15s;
}
.range-thumb:hover, .range-thumb:active { box-shadow: 0 0 0 4px rgba(135,42,15,0.15); }
#timeline-label {
  font-size: 11px; color: #2c2c2c; font-weight: 600; margin-top: 4px;
  font-family: Futura, 'Jost', sans-serif; text-align: center;
}
#timeline-ticks {
  display: flex; justify-content: space-between; font-size: 8px; color: #5a7a68;
  margin-top: 2px; font-family: Futura, 'Jost', sans-serif;
}
#timeline-reset {
  display: inline-block; margin-left: 6px; font-size: 9px; color: #872a0f;
  cursor: pointer; text-decoration: underline; font-weight: 400;
}
</style>
</head>
<body>

<div id="container">
  <div id="sidebar">
    <div id="sidebar-header">
      <h1>Obscenity Trade Networks</h1>
      <p id="header-stats">Loading...</p>
    </div>
    <div id="controls">
      <label>Search people</label>
      <input type="text" id="search" placeholder="Type a name..." autocomplete="off">
      <div id="search-dropdown"></div>
      <div id="filter-row">
        <button class="filter-btn active" data-cat="All">All</button>
        <button class="filter-btn active" data-cat="Family">Family</button>
        <button class="filter-btn active" data-cat="Business">Business</button>
        <button class="filter-btn active" data-cat="Co-defendants">Co-defendants</button>
        <button class="filter-btn active" data-cat="Shared Address">Shared Address</button>
        <button class="filter-btn active" data-cat="Other">Other</button>
      </div>
      <div id="timeline-control">
        <label>Time period</label>
        <div id="range-slider-container">
          <div id="range-track"></div>
          <div id="range-fill"></div>
          <div class="range-thumb" id="thumb-min"></div>
          <div class="range-thumb" id="thumb-max"></div>
        </div>
        <div id="timeline-label">All periods (1800–1910) <span id="timeline-reset" style="display:none">reset</span></div>
        <div id="timeline-ticks">
          <span>1800</span><span>1830</span><span>1860</span><span>1890</span><span>1910</span>
        </div>
      </div>
    </div>
    <div id="info-panel">
      <div id="info-content">
        <p style="color: #8a8478; font-size: 12px; margin-top: 20px; text-align: center;">
          Click a node to explore connections.<br>
          Drag nodes to rearrange. Scroll to zoom.
        </p>
      </div>
    </div>
    <div id="legend">
      <h3>Connection types</h3>
      <div class="legend-items">
        <div class="legend-item"><div class="legend-dot" style="background:#F0DDB4"></div>Family</div>
        <div class="legend-item"><div class="legend-dot" style="background:#78574D"></div>Business</div>
        <div class="legend-item"><div class="legend-dot" style="background:#E9BB3E"></div>Co-defendants</div>
        <div class="legend-item"><div class="legend-dot" style="background:#D44720"></div>Shared Address</div>
        <div class="legend-item"><div class="legend-dot" style="background:#4A6A5C"></div>Other</div>
      </div>
    </div>
  </div>

  <div id="graph-container">
    <svg></svg>
    <div id="tooltip"></div>
    <div id="zoom-controls">
      <button class="zoom-btn" id="zoom-in">+</button>
      <button class="zoom-btn" id="zoom-out">−</button>
      <button class="zoom-btn" id="zoom-reset" style="font-size:11px">⟲</button>
    </div>
    <div id="stats"></div>
  </div>
</div>

<script>
// ========== EMBEDDED DATA ==========
const graphData = {
  "nodes": [
    {
      "id": 0,
      "name": "Adolphus Eugene Judge",
      "connections": 4,
      "sources": "Inferred, Obscenity Trials, Perry"
    },
    {
      "id": 1,
      "name": "Adolphus Henry Judge",
      "connections": 8,
      "sources": "Advertising Pornography, Inferred, Obscenity Trials, Obscenity Trials, Perry"
    },
    {
      "id": 2,
      "name": "Aimé Duringe",
      "connections": 8,
      "sources": "Colligan (2019), Colligan (2019), Mendes"
    },
    {
      "id": 3,
      "name": "Alexis Christiaens",
      "connections": 2,
      "sources": "Mendes"
    },
    {
      "id": 4,
      "name": "Alfred Cooper",
      "connections": 2,
      "sources": "Mendes, Obscenity Trials"
    },
    {
      "id": 5,
      "name": "Alfred Joyner",
      "connections": 2,
      "sources": "Obscenity Trials"
    },
    {
      "id": 6,
      "name": "Alfred Kingston",
      "connections": 1,
      "sources": "Obscenity Trials"
    },
    {
      "id": 7,
      "name": "Alice Maid Taylor",
      "connections": 1,
      "sources": "Obscenity Trials"
    },
    {
      "id": 8,
      "name": "Allan Laidlaw",
      "connections": 5,
      "sources": "Obscenity Trials"
    },
    {
      "id": 9,
      "name": "Andrew White",
      "connections": 4,
      "sources": "Mendes, Obscenity Trials, Obscenity Trials"
    },
    {
      "id": 10,
      "name": "Angélina Leboucher",
      "connections": 1,
      "sources": "Colligan (2019)"
    },
    {
      "id": 11,
      "name": "Ann Aitken",
      "connections": 1,
      "sources": "Obscenity Trials"
    },
    {
      "id": 12,
      "name": "Anna Sinclair",
      "connections": 2,
      "sources": "Obscenity Trials"
    },
    {
      "id": 13,
      "name": "Anthony Edward Dyer White",
      "connections": 1,
      "sources": "Advertising Pornography, Obscenity Trials"
    },
    {
      "id": 14,
      "name": "Antoine Porterié",
      "connections": 2,
      "sources": "Catalogue des Ecris"
    },
    {
      "id": 15,
      "name": "Arthur John Partidge",
      "connections": 1,
      "sources": "Obscenity Trials"
    },
    {
      "id": 16,
      "name": "Arthur Reader",
      "connections": 1,
      "sources": "Mendes"
    },
    {
      "id": 17,
      "name": "Auguste Brancart",
      "connections": 7,
      "sources": "Colligan (2019), Mendes, Mendes, Obscenity Trials"
    },
    {
      "id": 18,
      "name": "Baptiste Leloup",
      "connections": 1,
      "sources": "Drujon"
    },
    {
      "id": 19,
      "name": "Becquet",
      "connections": 1,
      "sources": ""
    },
    {
      "id": 20,
      "name": "Benjamin Hulles",
      "connections": 1,
      "sources": "Obscenity Trials"
    },
    {
      "id": 21,
      "name": "Benjamin James",
      "connections": 1,
      "sources": "Obscenity Trials"
    },
    {
      "id": 22,
      "name": "Bertrand Porterié",
      "connections": 4,
      "sources": "Catalogue des Ecris"
    },
    {
      "id": 23,
      "name": "Binger Brothers",
      "connections": 2,
      "sources": "Mendes"
    },
    {
      "id": 24,
      "name": "Catherine Hodgson",
      "connections": 2,
      "sources": "Obscenity Trials"
    },
    {
      "id": 25,
      "name": "Charles Carrington",
      "connections": 6,
      "sources": "Colligan (2014), Obscenity Trials, Mendes, Mendes, Obscenity Trials"
    },
    {
      "id": 26,
      "name": "Charles Caslake",
      "connections": 2,
      "sources": "Obscenity Trials"
    },
    {
      "id": 27,
      "name": "Charles Grieves",
      "connections": 1,
      "sources": "Obscenity Trials"
    },
    {
      "id": 28,
      "name": "Charles Hirsch",
      "connections": 16,
      "sources": "Colligan (2019), Mendes, Mendes, Obscenity Trials, Obscenity Trials"
    },
    {
      "id": 29,
      "name": "Charles Maurice Coleman",
      "connections": 2,
      "sources": "Obscenity Trials"
    },
    {
      "id": 30,
      "name": "Charles Newbold",
      "connections": 5,
      "sources": "Obscenity Trials"
    },
    {
      "id": 31,
      "name": "Charles Perry",
      "connections": 3,
      "sources": "Obscenity Trials"
    },
    {
      "id": 32,
      "name": "Charles Reeves",
      "connections": 1,
      "sources": "Obscenity Trials"
    },
    {
      "id": 33,
      "name": "Charles Renaudie",
      "connections": 1,
      "sources": "Colligan (2019)"
    },
    {
      "id": 34,
      "name": "Charles Stevenson",
      "connections": 1,
      "sources": "Obscenity Trials"
    },
    {
      "id": 35,
      "name": "Charles Unsinger",
      "connections": 1,
      "sources": "Colligan (2019)"
    },
    {
      "id": 36,
      "name": "Constantin Delarue",
      "connections": 2,
      "sources": "BNF Retronews 001"
    },
    {
      "id": 37,
      "name": "Dresch",
      "connections": 3,
      "sources": "Obscenity Trials"
    },
    {
      "id": 38,
      "name": "Durvand",
      "connections": 1,
      "sources": "Colligan (2019)"
    },
    {
      "id": 39,
      "name": "Edouard Maheu",
      "connections": 2,
      "sources": "Mendes"
    },
    {
      "id": 40,
      "name": "Edward Avery",
      "connections": 13,
      "sources": "Mendes, Mendes, Obscenity Trials"
    },
    {
      "id": 41,
      "name": "Edward Duncombe",
      "connections": 7,
      "sources": "Advertising Pornography, Obscenity Trials, Advertising Pornography, Shared Address"
    },
    {
      "id": 42,
      "name": "Edward Dyer",
      "connections": 1,
      "sources": "Advertising Pornography, Obscenity Trials"
    },
    {
      "id": 43,
      "name": "Edward Henry Coleman",
      "connections": 2,
      "sources": "Obscenity Trials"
    },
    {
      "id": 44,
      "name": "Edward Morris",
      "connections": 1,
      "sources": "Obscenity Trials"
    },
    {
      "id": 45,
      "name": "Edwin Dresch",
      "connections": 1,
      "sources": "Obscenity Trials"
    },
    {
      "id": 46,
      "name": "Edwin Dresch Jr.",
      "connections": 7,
      "sources": "Inferred, Obscenity Trials"
    },
    {
      "id": 47,
      "name": "Elizabeth Graham",
      "connections": 2,
      "sources": "Obscenity Trials, Obscenity Trials, Advertising Pornography"
    },
    {
      "id": 48,
      "name": "Ella Sinclair Roland",
      "connections": 2,
      "sources": "Obscenity Trials"
    },
    {
      "id": 49,
      "name": "Ellen Bennett Williams",
      "connections": 1,
      "sources": "Obscenity Trials"
    },
    {
      "id": 50,
      "name": "Emile Kapp",
      "connections": 2,
      "sources": "Colligan (2019)"
    },
    {
      "id": 51,
      "name": "Emilie Christiaens",
      "connections": 2,
      "sources": "Mendes"
    },
    {
      "id": 52,
      "name": "Eugene Alfred Judge",
      "connections": 5,
      "sources": "Inferred, Obscenity Trials"
    },
    {
      "id": 53,
      "name": "Eugene Gorsky",
      "connections": 2,
      "sources": "Obscenity Trials"
    },
    {
      "id": 54,
      "name": "Eugène Lalouette",
      "connections": 2,
      "sources": "Colligan (2024)"
    },
    {
      "id": 55,
      "name": "Eugénie Marie Jamain",
      "connections": 2,
      "sources": "Colligan (2019)"
    },
    {
      "id": 56,
      "name": "Fatout",
      "connections": 1,
      "sources": "BNF Retronews 003"
    },
    {
      "id": 57,
      "name": "Felix Danjer",
      "connections": 1,
      "sources": "Advertising Pornography"
    },
    {
      "id": 58,
      "name": "Frances Thornell",
      "connections": 7,
      "sources": "Inferred, Perry, Perry (inferred)"
    },
    {
      "id": 59,
      "name": "Frances White",
      "connections": 2,
      "sources": "Obscenity Trials"
    },
    {
      "id": 60,
      "name": "Francois Van Crombrugge",
      "connections": 4,
      "sources": "Mendes"
    },
    {
      "id": 61,
      "name": "Frederick Glover?",
      "connections": 2,
      "sources": "Advertising Pornography"
    },
    {
      "id": 62,
      "name": "Frederick Raymond",
      "connections": 4,
      "sources": "Obscenity Trials, Obscenity Trials, Mendes"
    },
    {
      "id": 63,
      "name": "Furst",
      "connections": 1,
      "sources": "Colligan (2019)"
    },
    {
      "id": 64,
      "name": "George Brash",
      "connections": 1,
      "sources": "Obscenity Trials"
    },
    {
      "id": 65,
      "name": "George Cannon",
      "connections": 4,
      "sources": "McCalman & Mee, Mendes"
    },
    {
      "id": 66,
      "name": "George Crocker?",
      "connections": 1,
      "sources": "Advertising Pornography"
    },
    {
      "id": 67,
      "name": "George Jackson",
      "connections": 1,
      "sources": "Obscenity Trials"
    },
    {
      "id": 68,
      "name": "George Newbold",
      "connections": 3,
      "sources": "Obscenity Trials"
    },
    {
      "id": 69,
      "name": "George Robinson",
      "connections": 1,
      "sources": "Obscenity Trials"
    },
    {
      "id": 70,
      "name": "George White",
      "connections": 7,
      "sources": "Obscenity Trials"
    },
    {
      "id": 71,
      "name": "Goin",
      "connections": 1,
      "sources": "Catalogue des Ecris"
    },
    {
      "id": 72,
      "name": "Gustave Lehec",
      "connections": 1,
      "sources": "Colligan (2019)"
    },
    {
      "id": 73,
      "name": "H.G. Brooks",
      "connections": 2,
      "sources": "Advertising Pornography"
    },
    {
      "id": 74,
      "name": "Hannaford Bennett",
      "connections": 1,
      "sources": "Mendes"
    },
    {
      "id": 75,
      "name": "Harry Sidney Nichols",
      "connections": 5,
      "sources": "Mendes, Obscenity Trials, Obscenity Trials"
    },
    {
      "id": 76,
      "name": "Henri Clouzot",
      "connections": 2,
      "sources": "Catalogue des Ecris"
    },
    {
      "id": 77,
      "name": "Henri Robert",
      "connections": 1,
      "sources": "Colligan (2014), Obscenity Trials"
    },
    {
      "id": 78,
      "name": "Henriette Doucé",
      "connections": 4,
      "sources": "Colligan (2024)"
    },
    {
      "id": 79,
      "name": "Henry Beresford",
      "connections": 1,
      "sources": "Obscenity Trials"
    },
    {
      "id": 80,
      "name": "Henry Clarke",
      "connections": 1,
      "sources": "Obscenity Trials"
    },
    {
      "id": 81,
      "name": "Henry May",
      "connections": 6,
      "sources": "Advertising Pornography, Obscenity Trials, Obscenity Trials, Advertising Pornography"
    },
    {
      "id": 82,
      "name": "Henry Paul",
      "connections": 5,
      "sources": "Obscenity Trials"
    },
    {
      "id": 83,
      "name": "Henry Robinson",
      "connections": 1,
      "sources": "Obscenity Trials"
    },
    {
      "id": 84,
      "name": "Henry Scarborough",
      "connections": 1,
      "sources": "Obscenity Trials"
    },
    {
      "id": 85,
      "name": "Herbert Constantine Judge",
      "connections": 7,
      "sources": "Inferred, Obscenity Trials"
    },
    {
      "id": 86,
      "name": "Hijman Binger",
      "connections": 1,
      "sources": "Mendes"
    },
    {
      "id": 87,
      "name": "Isaac Marcus Binger",
      "connections": 1,
      "sources": "Mendes"
    },
    {
      "id": 88,
      "name": "J. Berge",
      "connections": 1,
      "sources": "Mendes"
    },
    {
      "id": 89,
      "name": "J.H. Gaball",
      "connections": 1,
      "sources": "Mendes"
    },
    {
      "id": 90,
      "name": "James Aitken",
      "connections": 1,
      "sources": "Obscenity Trials"
    },
    {
      "id": 91,
      "name": "James Brewer",
      "connections": 3,
      "sources": "Advertising Pornography, Obscenity Trials"
    },
    {
      "id": 92,
      "name": "James Jenkins",
      "connections": 1,
      "sources": "Obscenity Trials"
    },
    {
      "id": 93,
      "name": "James Millson",
      "connections": 2,
      "sources": "Obscenity Trials"
    },
    {
      "id": 94,
      "name": "James Reeve",
      "connections": 3,
      "sources": "Obscenity Trials"
    },
    {
      "id": 95,
      "name": "Jane Jackson",
      "connections": 3,
      "sources": "Obscenity Trials"
    },
    {
      "id": 96,
      "name": "Jane Wadsworth",
      "connections": 4,
      "sources": "Obscenity Trials"
    },
    {
      "id": 97,
      "name": "Jean-Jules Gay",
      "connections": 2,
      "sources": "Colligan (2024)"
    },
    {
      "id": 98,
      "name": "Jesse Wilby",
      "connections": 1,
      "sources": "Obscenity Trials"
    },
    {
      "id": 99,
      "name": "Jessie Judge",
      "connections": 9,
      "sources": "Advertising Pornography, Inferred, Perry (inferred)"
    },
    {
      "id": 100,
      "name": "John Bead",
      "connections": 2,
      "sources": "Obscenity Trials"
    },
    {
      "id": 101,
      "name": "John Benjamin Brookes",
      "connections": 1,
      "sources": "Advertising Pornography"
    },
    {
      "id": 102,
      "name": "John Camden Hotten",
      "connections": 1,
      "sources": "Mendes"
    },
    {
      "id": 103,
      "name": "John Day",
      "connections": 2,
      "sources": "Obscenity Trials"
    },
    {
      "id": 104,
      "name": "John Duncombe",
      "connections": 2,
      "sources": "Advertising Pornography, Obscenity Trials, Advertising Pornography"
    },
    {
      "id": 105,
      "name": "John Frederick Sutton",
      "connections": 1,
      "sources": "Obscenity Trials"
    },
    {
      "id": 106,
      "name": "John Harrison (the elder)",
      "connections": 2,
      "sources": "Obscenity Trials"
    },
    {
      "id": 107,
      "name": "John Harrison (the younger)",
      "connections": 4,
      "sources": "Obscenity Trials"
    },
    {
      "id": 108,
      "name": "John Higdon Thornell",
      "connections": 7,
      "sources": "Advertising Pornography, Inferred, Perry"
    },
    {
      "id": 109,
      "name": "John Hulles",
      "connections": 1,
      "sources": "Obscenity Trials"
    },
    {
      "id": 110,
      "name": "John James Ascham",
      "connections": 3,
      "sources": "Mendes"
    },
    {
      "id": 111,
      "name": "John Jones",
      "connections": 3,
      "sources": "Mendes"
    },
    {
      "id": 112,
      "name": "John Lambert Dugdale",
      "connections": 7,
      "sources": "Advertising Pornography, Inferred, Obscenity Trials"
    },
    {
      "id": 113,
      "name": "John Matthews",
      "connections": 2,
      "sources": "Obscenity Trials"
    },
    {
      "id": 114,
      "name": "John Murray",
      "connections": 1,
      "sources": "Obscenity Trials"
    },
    {
      "id": 115,
      "name": "John Piper",
      "connections": 1,
      "sources": "Obscenity Trials"
    },
    {
      "id": 116,
      "name": "John Sudbury",
      "connections": 3,
      "sources": "Mendes"
    },
    {
      "id": 117,
      "name": "John Warren",
      "connections": 1,
      "sources": "Obscenity Trials"
    },
    {
      "id": 118,
      "name": "John Winn",
      "connections": 1,
      "sources": "Obscenity Trials"
    },
    {
      "id": 119,
      "name": "Joseph Clarke",
      "connections": 1,
      "sources": "Obscenity Trials"
    },
    {
      "id": 120,
      "name": "Joseph Green",
      "connections": 1,
      "sources": "Obscenity Trials"
    },
    {
      "id": 121,
      "name": "Joseph Groves",
      "connections": 4,
      "sources": "Obscenity Trials"
    },
    {
      "id": 122,
      "name": "Joseph Jenkinson",
      "connections": 1,
      "sources": "Obscenity Trials"
    },
    {
      "id": 123,
      "name": "Joseph Matthews",
      "connections": 3,
      "sources": "Obscenity Trials"
    },
    {
      "id": 124,
      "name": "Joseph de Matteo",
      "connections": 3,
      "sources": "Mendes, Obscenity Trials, Obscenity Trials, Obscenity Trials/Mendes"
    },
    {
      "id": 125,
      "name": "Jules Eugène Gauché",
      "connections": 5,
      "sources": "Colligan (2019)"
    },
    {
      "id": 126,
      "name": "Leonard Smithers",
      "connections": 7,
      "sources": "Colligan (2019), Mendes, Mendes, Mendes, Obscenity Trials"
    },
    {
      "id": 127,
      "name": "Lerendu",
      "connections": 1,
      "sources": "BNF Retronews 001"
    },
    {
      "id": 128,
      "name": "Louis-Victor Deshayes",
      "connections": 2,
      "sources": "BNF Retronews 002, Drujon"
    },
    {
      "id": 129,
      "name": "M.J.P. van Santen",
      "connections": 1,
      "sources": "Mendes"
    },
    {
      "id": 130,
      "name": "Mademoiselle Paoli",
      "connections": 1,
      "sources": "Colligan (2019)"
    },
    {
      "id": 131,
      "name": "Maria Fagnoit",
      "connections": 5,
      "sources": "Obscenity Trials, Shared Address"
    },
    {
      "id": 132,
      "name": "Marie Adèle Eugénie Dufeutrell",
      "connections": 1,
      "sources": "Colligan (2019)"
    },
    {
      "id": 133,
      "name": "Marie Adèle Jamain",
      "connections": 1,
      "sources": "Colligan (2019)"
    },
    {
      "id": 134,
      "name": "Marie-Gabrielle Despréaux, femme Goin",
      "connections": 2,
      "sources": "BNF Retronews 002, Catalogue des Ecris"
    },
    {
      "id": 135,
      "name": "Martin Joyner",
      "connections": 3,
      "sources": "Obscenity Trials"
    },
    {
      "id": 136,
      "name": "Mary Ashworth",
      "connections": 1,
      "sources": "Mendes"
    },
    {
      "id": 137,
      "name": "Mary Dresch",
      "connections": 3,
      "sources": "Inferred, Obscenity Trials"
    },
    {
      "id": 138,
      "name": "Michael Saunders",
      "connections": 5,
      "sources": "Obscenity Trials"
    },
    {
      "id": 139,
      "name": "Novello and Co",
      "connections": 2,
      "sources": "Advertising Pornography"
    },
    {
      "id": 140,
      "name": "Oscar Lenormand",
      "connections": 1,
      "sources": "Colligan (2019)"
    },
    {
      "id": 141,
      "name": "Paul Ramel",
      "connections": 2,
      "sources": "Mendes, Obscenity Trials"
    },
    {
      "id": 142,
      "name": "Paul de Paris",
      "connections": 3,
      "sources": "Obscenity Trials"
    },
    {
      "id": 143,
      "name": "Percy Smith",
      "connections": 1,
      "sources": "Obscenity Trials"
    },
    {
      "id": 144,
      "name": "Poulet-Malassis",
      "connections": 1,
      "sources": "Mendes"
    },
    {
      "id": 145,
      "name": "R.R.L. Kerslake",
      "connections": 1,
      "sources": "Mendes"
    },
    {
      "id": 146,
      "name": "Ralph Jackson",
      "connections": 3,
      "sources": "Advertising Pornography"
    },
    {
      "id": 147,
      "name": "Richard Brash",
      "connections": 2,
      "sources": "Obscenity Trials"
    },
    {
      "id": 148,
      "name": "Richard Groves",
      "connections": 5,
      "sources": "Obscenity Trials"
    },
    {
      "id": 149,
      "name": "Robert Murray",
      "connections": 1,
      "sources": "Obscenity Trials"
    },
    {
      "id": 150,
      "name": "Robert Wilson",
      "connections": 1,
      "sources": "Obscenity Trials"
    },
    {
      "id": 151,
      "name": "Roeloffzen & Hubner",
      "connections": 2,
      "sources": "Mendes"
    },
    {
      "id": 152,
      "name": "Samuel Tyler",
      "connections": 2,
      "sources": "Obscenity Trials"
    },
    {
      "id": 153,
      "name": "Sarah Dalton",
      "connections": 2,
      "sources": "Obscenity Trials"
    },
    {
      "id": 154,
      "name": "Selene Subtil",
      "connections": 3,
      "sources": "Obscenity Trials, Obscenity Trials/Mendes"
    },
    {
      "id": 155,
      "name": "Sophia Dukes",
      "connections": 1,
      "sources": "Obscenity Trials"
    },
    {
      "id": 156,
      "name": "Stanislaus Gorsky",
      "connections": 2,
      "sources": "Obscenity Trials"
    },
    {
      "id": 157,
      "name": "Susan Green",
      "connections": 1,
      "sources": "Obscenity Trials"
    },
    {
      "id": 158,
      "name": "Terry",
      "connections": 1,
      "sources": "BNF Retronews 003"
    },
    {
      "id": 159,
      "name": "Theophilus Sebastian Judge",
      "connections": 16,
      "sources": "Advertising Pornography, Inferred, Obscenity Trials, Obscenity Trials, Advertising Pornography"
    },
    {
      "id": 160,
      "name": "Thomas Blacketer",
      "connections": 6,
      "sources": "Obscenity Trials, Perry"
    },
    {
      "id": 161,
      "name": "Thomas Burton",
      "connections": 1,
      "sources": "Obscenity Trials"
    },
    {
      "id": 162,
      "name": "Thomas Cairns",
      "connections": 1,
      "sources": "Obscenity Trials"
    },
    {
      "id": 163,
      "name": "Thomas Dugdale",
      "connections": 4,
      "sources": "Inferred, Obscenity Trials"
    },
    {
      "id": 164,
      "name": "Thomas Paine Carlile",
      "connections": 2,
      "sources": "Advertising Pornography, Bull (2025)"
    },
    {
      "id": 165,
      "name": "Thomas Prest",
      "connections": 1,
      "sources": "Advertising Pornography"
    },
    {
      "id": 166,
      "name": "Théophile Fillon",
      "connections": 1,
      "sources": "Colligan (2019)"
    },
    {
      "id": 167,
      "name": "Unknown",
      "connections": 1,
      "sources": "Obscenity Trials"
    },
    {
      "id": 168,
      "name": "Victor Hubert",
      "connections": 3,
      "sources": "Obscenity Trials"
    },
    {
      "id": 169,
      "name": "W. Pedder",
      "connections": 1,
      "sources": "Mendes"
    },
    {
      "id": 170,
      "name": "W.T. Robson",
      "connections": 1,
      "sources": "Mendes"
    },
    {
      "id": 171,
      "name": "Walter Douglas Munday",
      "connections": 3,
      "sources": "Obscenity Trials"
    },
    {
      "id": 172,
      "name": "Walter Warnforn Piper",
      "connections": 2,
      "sources": "Obscenity Trials"
    },
    {
      "id": 173,
      "name": "Warnforn Piper",
      "connections": 2,
      "sources": "Obscenity Trials"
    },
    {
      "id": 174,
      "name": "William Arthur Dukes",
      "connections": 1,
      "sources": "Obscenity Trials"
    },
    {
      "id": 175,
      "name": "William Benbow",
      "connections": 2,
      "sources": "Advertising Pornography, McCalman, McCalman & Mee"
    },
    {
      "id": 176,
      "name": "William Burton",
      "connections": 6,
      "sources": "Mendes, Obscenity Trials, Obscenity Trials"
    },
    {
      "id": 177,
      "name": "William Dugdale",
      "connections": 32,
      "sources": "Advertising Pornography, Advertising Pornography, McCalman, Advertising Pornography, Obscenity Trials, Bull (2025), Inferred, Mendes, Mendes, Obscenity Trials, Obscenity Trials, Obscenity Trials, Advertising Pornography, Perry"
    },
    {
      "id": 178,
      "name": "William Edwards",
      "connections": 1,
      "sources": "Advertising Pornography"
    },
    {
      "id": 179,
      "name": "William F. Howe",
      "connections": 1,
      "sources": "Advertising Pornography, Obscenity Trials"
    },
    {
      "id": 180,
      "name": "William F. Howe?",
      "connections": 2,
      "sources": "Obscenity Trials, Obscenity Trials, Advertising Pornography"
    },
    {
      "id": 181,
      "name": "William Fagnoit",
      "connections": 4,
      "sources": "Obscenity Trials"
    },
    {
      "id": 182,
      "name": "William Henry Payne",
      "connections": 6,
      "sources": "Obscenity Trials"
    },
    {
      "id": 183,
      "name": "William Jenkinson",
      "connections": 1,
      "sources": "Obscenity Trials"
    },
    {
      "id": 184,
      "name": "William John Dugdale",
      "connections": 9,
      "sources": "Inferred, Obscenity Trials, Obscenity Trials, Advertising Pornography"
    },
    {
      "id": 185,
      "name": "William Lazenby",
      "connections": 6,
      "sources": "Mendes, Mendes, Obscenity Trials, Obscenity Trials, Obscenity Trials, Mendes"
    },
    {
      "id": 186,
      "name": "William Matthews",
      "connections": 3,
      "sources": "Obscenity Trials"
    },
    {
      "id": 187,
      "name": "William Miller",
      "connections": 4,
      "sources": "Obscenity Trials"
    },
    {
      "id": 188,
      "name": "William Nicholas Fagnoit",
      "connections": 1,
      "sources": "Shared Address"
    },
    {
      "id": 189,
      "name": "William Nunn",
      "connections": 1,
      "sources": "Obscenity Trials"
    },
    {
      "id": 190,
      "name": "William Saunders",
      "connections": 3,
      "sources": "Obscenity Trials"
    },
    {
      "id": 191,
      "name": "William Strange",
      "connections": 1,
      "sources": "Advertising Pornography"
    },
    {
      "id": 192,
      "name": "William Walter George",
      "connections": 1,
      "sources": "Obscenity Trials"
    },
    {
      "id": 193,
      "name": "William Williams",
      "connections": 1,
      "sources": "Obscenity Trials"
    },
    {
      "id": 194,
      "name": "William Winn",
      "connections": 6,
      "sources": "Advertising Pornography, Obscenity Trials"
    }
  ],
  "links": [
    {
      "source": 1,
      "target": 91,
      "type": "Employer/employee",
      "category": "Business",
      "details": "Brewer was 'likely working for the Judge family'; 'Megret and Co' named as one of Judge's aliases (1864)",
      "biblio_source": "Advertising Pornography"
    },
    {
      "source": 2,
      "target": 17,
      "type": "Business connection",
      "category": "Business",
      "details": "Duringe served as Brancart's Paris agent from early 1890s. Dutel suggests Duringe either took over Brancart's business or collaborated with him.",
      "biblio_source": "Colligan (2019)"
    },
    {
      "source": 2,
      "target": 28,
      "type": "Business connection",
      "category": "Business",
      "details": "Hirsch claimed that Duringe was in possession of the original manuscript of the underground novel Teleny; apparent business connections between the two",
      "biblio_source": "Colligan (2019)"
    },
    {
      "source": 2,
      "target": 33,
      "type": "Business connection",
      "category": "Business",
      "details": "Renaudie was Duringe's printer for French titles, possibly under an arrangement with Brancart",
      "biblio_source": "Colligan (2019)"
    },
    {
      "source": 2,
      "target": 126,
      "type": "Business connection",
      "category": "Business",
      "details": "Duringe may have worked as proxy publisher for Smithers; Duringe's early years in London strengthen this conjecture",
      "biblio_source": "Colligan (2019), Mendes"
    },
    {
      "source": 2,
      "target": 130,
      "type": "Employer/agent",
      "category": "Business",
      "details": "Paoli was Duringe's female distributor/broker",
      "biblio_source": "Colligan (2019)"
    },
    {
      "source": 4,
      "target": 75,
      "type": "Business connection",
      "category": "Business",
      "details": "Cooper retailed publications from the Nichols & Smithers network via Avery at 13 Holywell Street",
      "biblio_source": "Mendes, Obscenity Trials"
    },
    {
      "source": 9,
      "target": 177,
      "type": "Employer/employee",
      "category": "Business",
      "details": "Andrew White 'ran a bookshop probably for Dugdale' at 31 Holywell Street (1850s)",
      "biblio_source": "Mendes, Obscenity Trials"
    },
    {
      "source": 17,
      "target": 28,
      "type": "Business connection",
      "category": "Business",
      "details": "Part of the same Paris pornographic network; both arrested in 1909 sweep.",
      "biblio_source": "Colligan (2019)"
    },
    {
      "source": 17,
      "target": 141,
      "type": "Employer/agent",
      "category": "Business",
      "details": "Ramel used alias 'G. Brancart' and was likely an agent for Brancart's Brussels operation (1891)",
      "biblio_source": "Mendes, Obscenity Trials"
    },
    {
      "source": 23,
      "target": 60,
      "type": "Business connection",
      "category": "Business",
      "details": "Van Crombrugge used Binger to print publications",
      "biblio_source": "Mendes"
    },
    {
      "source": 23,
      "target": 126,
      "type": "Business connection",
      "category": "Business",
      "details": "Binger Bros. printed works for Smithers",
      "biblio_source": "Mendes"
    },
    {
      "source": 25,
      "target": 185,
      "type": "Business connection",
      "category": "Business",
      "details": "Carrington was connected to the Cameron/Lazenby network before establishing himself in Paris",
      "biblio_source": "Mendes"
    },
    {
      "source": 28,
      "target": 25,
      "type": "Business connection",
      "category": "Business",
      "details": "Hirsch was the London agent/distributor for Carrington's Paris-published material.",
      "biblio_source": "Mendes, Obscenity Trials"
    },
    {
      "source": 28,
      "target": 38,
      "type": "Business connection",
      "category": "Business",
      "details": "Durvand was bookbinder ('reliure') for Hirsch's clandestine editions",
      "biblio_source": "Colligan (2019)"
    },
    {
      "source": 28,
      "target": 40,
      "type": "Business connection",
      "category": "Business",
      "details": "Both Hirsch and Avery were key London distributors of clandestine erotica in the 1890s. Hirsch at Prince's-buildings, Avery at 53 Greek St, Soho",
      "biblio_source": "Mendes"
    },
    {
      "source": 28,
      "target": 50,
      "type": "Business connection",
      "category": "Business",
      "details": "Kapp was Hirsch's printer for clandestine editions",
      "biblio_source": "Colligan (2019)"
    },
    {
      "source": 28,
      "target": 63,
      "type": "Business connection",
      "category": "Business",
      "details": "Hirsch supplied luxurious editions of pornographic classics to Furst, an Austrian dealer.",
      "biblio_source": "Colligan (2019)"
    },
    {
      "source": 28,
      "target": 124,
      "type": "Business connection",
      "category": "Business",
      "details": "Both French booksellers in Soho. Hirsch succeeded Hubert at Prince's-buildings, and Hubert was De Matteo's supplier.",
      "biblio_source": "Mendes, Obscenity Trials"
    },
    {
      "source": 28,
      "target": 126,
      "type": "Business connection",
      "category": "Business",
      "details": "Hirsch's shop at Prince's-buildings was an outlet for publications from the Smithers/Nichols network as well as Carrington's Paris output",
      "biblio_source": "Mendes"
    },
    {
      "source": 28,
      "target": 140,
      "type": "Business connection",
      "category": "Business",
      "details": "Lenormand produced collotypes (phototypies) for Hirsch's clandestine editions",
      "biblio_source": "Colligan (2019)"
    },
    {
      "source": 28,
      "target": 166,
      "type": "Business connection",
      "category": "Business",
      "details": "Fillon was an engraver who worked on Hirsch's clandestine editions",
      "biblio_source": "Colligan (2019)"
    },
    {
      "source": 39,
      "target": 17,
      "type": "Business connection",
      "category": "Business",
      "details": "Maheu printed for Brancart in the 1880s",
      "biblio_source": "Mendes"
    },
    {
      "source": 39,
      "target": 25,
      "type": "Business connection",
      "category": "Business",
      "details": "Maheu may have published with Carrington from 1891",
      "biblio_source": "Mendes"
    },
    {
      "source": 40,
      "target": 4,
      "type": "Business connection",
      "category": "Business",
      "details": "Alfred Cooper was a retailer for Avery's publications, operating from 13 Holywell Street. Cooper tried 1892 as bookseller at Hyde-street, Oxford-street",
      "biblio_source": "Mendes, Obscenity Trials"
    },
    {
      "source": 40,
      "target": 16,
      "type": "Business connection",
      "category": "Business",
      "details": "Reader was an antiquarian bookseller who collaborated with Avery on the 'Rochester Reprint' series (1884-1890)",
      "biblio_source": "Mendes"
    },
    {
      "source": 40,
      "target": 25,
      "type": "Employer/employee",
      "category": "Business",
      "details": "The young Carrington was possibly a travelling agent for Avery c.1888-93, before establishing himself in Paris",
      "biblio_source": "Mendes"
    },
    {
      "source": 40,
      "target": 75,
      "type": "Business connection",
      "category": "Business",
      "details": "Avery acted as London distributor for the Nichols & Smithers 'Erotika Biblion Society' publications (1888-91). Nichols had printing shop at 10 Dean St, Soho; office at 3 Soho Square",
      "biblio_source": "Mendes, Obscenity Trials"
    },
    {
      "source": 40,
      "target": 89,
      "type": "Business connection",
      "category": "Business",
      "details": "J.H. Gaball was a printer used by Avery for his publications",
      "biblio_source": "Mendes"
    },
    {
      "source": 40,
      "target": 126,
      "type": "Business connection",
      "category": "Business",
      "details": "Avery was London distributor for publications by Smithers & Nichols' 'Erotika Biblion Society' (1888-91). Smithers shared office at 3 Soho Square with Nichols (1891-94)",
      "biblio_source": "Mendes"
    },
    {
      "source": 40,
      "target": 136,
      "type": "Partners",
      "category": "Business",
      "details": "Ashworth was Avery's common-law wife and continued the business after his death",
      "biblio_source": "Mendes"
    },
    {
      "source": 40,
      "target": 145,
      "type": "Business connection",
      "category": "Business",
      "details": "R.R.L. Kerslake was a printer used by Avery for his publications",
      "biblio_source": "Mendes"
    },
    {
      "source": 40,
      "target": 169,
      "type": "Business connection",
      "category": "Business",
      "details": "W. Pedder was a bookbinder used by Avery",
      "biblio_source": "Mendes"
    },
    {
      "source": 40,
      "target": 170,
      "type": "Business connection",
      "category": "Business",
      "details": "W.T. Robson was a printer used by Avery for his publications",
      "biblio_source": "Mendes"
    },
    {
      "source": 40,
      "target": 185,
      "type": "Business connection",
      "category": "Business",
      "details": "Avery began collaborating with Lazenby from early 1880s as publisher c.1884. Avery at 18 Carlisle St (1881-85), then 145 Gt College St, Camden Town (1883-90), then 53 Greek St, Soho (from 1887). Avery succeeded to Lazenby's business after Lazenby's 1886 prosecution.",
      "biblio_source": "Mendes, Obscenity Trials"
    },
    {
      "source": 50,
      "target": 35,
      "type": "Business succession",
      "category": "Business",
      "details": "Kapp was successor of Unsinger as printer",
      "biblio_source": "Colligan (2019)"
    },
    {
      "source": 60,
      "target": 17,
      "type": "Business connection",
      "category": "Business",
      "details": "Van Crombrugge worked with Brancart from c.1888; mainly a bookseller",
      "biblio_source": "Mendes"
    },
    {
      "source": 65,
      "target": 175,
      "type": "Business connection",
      "category": "Business",
      "details": "Cannon contributed to Benbow's Political Register",
      "biblio_source": "McCalman & Mee"
    },
    {
      "source": 74,
      "target": 126,
      "type": "Business connection",
      "category": "Business",
      "details": "Bennett acted as London agent for Binger Bros., linking Amsterdam and Smithers",
      "biblio_source": "Mendes"
    },
    {
      "source": 75,
      "target": 126,
      "type": "Business connection",
      "category": "Business",
      "details": "Partners in the 'Erotika Biblion Society' (1888-91). Both from Sheffield: Nichols ran 'Nichols Book Emporium' at GlAdvertising Pornographytone Buildings then 29 Orchard St; Smithers practised as solicitor c.1886-92. Shared London office at 3 Soho Square.",
      "biblio_source": "Mendes, Obscenity Trials"
    },
    {
      "source": 77,
      "target": 25,
      "type": "Employer/employee",
      "category": "Business",
      "details": "Henri Robert was an agent for Charles Carrington. Tried 1897 as 'Henry Mercier, alias Charles Carrington, alias Henry Roberts'",
      "biblio_source": "Colligan (2014), Obscenity Trials"
    },
    {
      "source": 85,
      "target": 9,
      "type": "Business connection",
      "category": "Business",
      "details": "Herbert Judge used 'alias White' at 32 Holywell Street (1875), the same address operated by the White family. Suggests Herbert took over or worked from the White family's shop",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 88,
      "target": 17,
      "type": "Business connection",
      "category": "Business",
      "details": "Berge pirated Brancart's publications from Rotterdam",
      "biblio_source": "Mendes"
    },
    {
      "source": 98,
      "target": 185,
      "type": "Business connection",
      "category": "Business",
      "details": "Wilby gave information to police leading to surveillance and arrest of Lazenby (alias Duncan Cameron) in 1886; Lazenby had been 'his wholesale man' (supplier)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 102,
      "target": 40,
      "type": "Employer/employee",
      "category": "Business",
      "details": "Avery was Hotten's shop assistant before becoming an independent publisher",
      "biblio_source": "Mendes"
    },
    {
      "source": 110,
      "target": 177,
      "type": "Business connection",
      "category": "Business",
      "details": "Ascham was a bookseller connected to Dugdale in the 1830s",
      "biblio_source": "Mendes"
    },
    {
      "source": 111,
      "target": 65,
      "type": "Printer/front man",
      "category": "Business",
      "details": "Jones's name appeared on title pages of Cannon's publications",
      "biblio_source": "Mendes"
    },
    {
      "source": 111,
      "target": 110,
      "type": "Printer/front man",
      "category": "Business",
      "details": "Jones's name appeared on title pages of Ascham's publications",
      "biblio_source": "Mendes"
    },
    {
      "source": 111,
      "target": 177,
      "type": "Printer/front man",
      "category": "Business",
      "details": "Jones's name appeared on title pages of Dugdale's publications",
      "biblio_source": "Mendes"
    },
    {
      "source": 116,
      "target": 65,
      "type": "Printer/front man",
      "category": "Business",
      "details": "Sudbury's name appeared on title pages of Cannon's publications",
      "biblio_source": "Mendes"
    },
    {
      "source": 116,
      "target": 110,
      "type": "Printer/front man",
      "category": "Business",
      "details": "Sudbury's name appeared on title pages of Ascham's publications",
      "biblio_source": "Mendes"
    },
    {
      "source": 116,
      "target": 177,
      "type": "Printer/front man",
      "category": "Business",
      "details": "Sudbury's name appeared on title pages of Dugdale's publications",
      "biblio_source": "Mendes"
    },
    {
      "source": 125,
      "target": 2,
      "type": "Business connection",
      "category": "Business",
      "details": "Gauché reprinted works published by Duringe",
      "biblio_source": "Colligan (2019)"
    },
    {
      "source": 125,
      "target": 10,
      "type": "Partners (romantic and professional)",
      "category": "Business",
      "details": "Gauché and Leboucher lived and worked together from the beginning of the century, had two children, and ran both a pornographic and legitimate publishing/printing business.",
      "biblio_source": "Colligan (2019)"
    },
    {
      "source": 125,
      "target": 17,
      "type": "Business connection",
      "category": "Business",
      "details": "Gauché reprinted works published by Brancart. Used an imprint similar to Brancart's, suggesting possible business arrangement",
      "biblio_source": "Colligan (2019)"
    },
    {
      "source": 125,
      "target": 28,
      "type": "Business connection",
      "category": "Business",
      "details": "Gauché reprinted works published by Hirsch",
      "biblio_source": "Colligan (2019)"
    },
    {
      "source": 129,
      "target": 151,
      "type": "Business connection",
      "category": "Business",
      "details": "Van Santen merged with Roeloffzen-Hubner c.1895",
      "biblio_source": "Mendes"
    },
    {
      "source": 141,
      "target": 25,
      "type": "Business connection",
      "category": "Other",
      "details": "Indirect connection via Brancart. Ramel used alias 'G. Brancart' and was agent for Brancart; Carrington was connected to the Belgian/French import network",
      "biblio_source": "Mendes, Obscenity Trials"
    },
    {
      "source": 144,
      "target": 185,
      "type": "Business connection",
      "category": "Business",
      "details": "Arranged printing for Lazenby in 1875",
      "biblio_source": "Mendes"
    },
    {
      "source": 151,
      "target": 126,
      "type": "Business connection",
      "category": "Business",
      "details": "Amsterdam printers who printed worked for Smithers",
      "biblio_source": "Mendes"
    },
    {
      "source": 154,
      "target": 28,
      "type": "Employer/employee",
      "category": "Business",
      "details": "Hirsch managed Subtil's shop at 4 Prince's-buildings, Coventry-street, and later purchased it from her",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 154,
      "target": 124,
      "type": "Business connection",
      "category": "Business",
      "details": "Subtil took over Victor Hubert's shop at Prince's-buildings (1890); Hubert had been De Matteo's supplier (1887). Part of the same French bookselling network in Soho",
      "biblio_source": "Obscenity Trials/Mendes"
    },
    {
      "source": 159,
      "target": 177,
      "type": "Business succession",
      "category": "Business",
      "details": "T.S. Judge was 'the son in law and successor of the late Dugdale'; took over 44 Wych Street and 2 Holywell-street",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 164,
      "target": 61,
      "type": "Business partnership",
      "category": "Business",
      "details": "Ran Glover and Ward's Repository together at 103 Strand (1845)",
      "biblio_source": "Advertising Pornography"
    },
    {
      "source": 164,
      "target": 177,
      "type": "Business connection",
      "category": "Business",
      "details": "Distributed books for Dugdale (1839)",
      "biblio_source": "Bull (2025)"
    },
    {
      "source": 165,
      "target": 41,
      "type": "Employer/employee",
      "category": "Business",
      "details": "Thomas Prest reportedly composed and compiled songs for Duncombe. Duncombe appears to have used his name for advertising 1831-1835.",
      "biblio_source": "Advertising Pornography"
    },
    {
      "source": 168,
      "target": 124,
      "type": "Business connection",
      "category": "Business",
      "details": "Trial records describe Hubert as 'a supplier of De Matteo'. Hubert at Prince's-buildings, Coventry-street (1887); De Matteo at Old Compton-street (1886)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 177,
      "target": 65,
      "type": "Business connection",
      "category": "Business",
      "details": "Dugdale reprinted many of Cannon's works in the 1860s, suggesting a possible business connection/succession",
      "biblio_source": "Mendes"
    },
    {
      "source": 177,
      "target": 175,
      "type": "Employer/employee",
      "category": "Business",
      "details": "Dugdale got his start in the book trade working for Benbow",
      "biblio_source": "Advertising Pornography, McCalman"
    },
    {
      "source": 185,
      "target": 176,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "Lazenby used addresses previously associated with  William Burton (alias Andrew White), including 142 New Kent Road. Mendes suggests that they may be the same person",
      "biblio_source": "Mendes, Obscenity Trials"
    },
    {
      "source": 185,
      "target": 62,
      "type": "Business connection",
      "category": "Business",
      "details": "South Wales Daily News reports Raymond 'was seen with a man by the name of Judd, an old offender'; Judd may be Lazenby",
      "biblio_source": "Obscenity Trials, Mendes"
    },
    {
      "source": 189,
      "target": 177,
      "type": "Employer/employee",
      "category": "Business",
      "details": "Sold obscene books for Dugdale (1845)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 194,
      "target": 177,
      "type": "Business connection",
      "category": "Business",
      "details": "Winn appears to have sold books for Dugdale out of 34 Holywell Street around 1849",
      "biblio_source": "Advertising Pornography"
    },
    {
      "source": 2,
      "target": 72,
      "type": "Co-defendants",
      "category": "Co-defendants",
      "details": "Convicted together 1892; Duringe as pornographic middleman ('courtier en librairie'), Lehec as bookseller.",
      "biblio_source": "Colligan (2019)"
    },
    {
      "source": 8,
      "target": 29,
      "type": "Co-defendants",
      "category": "Co-defendants",
      "details": "Arrested together in obscenity sweep focused on George Ferdinand Springmuhl von Weissenfeld (1902). Coleman was a printer for Weissenfeld.",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 8,
      "target": 43,
      "type": "Co-defendants",
      "category": "Co-defendants",
      "details": "Arrested together in obscenity sweep focused on George Ferdinand Springmuhl von Weissenfeld (1902). Coleman was a printer for Weissenfeld.",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 8,
      "target": 171,
      "type": "Co-defendants",
      "category": "Co-defendants",
      "details": "Arrested together in obscenity sweep focused on George Ferdinand Springmuhl von Weissenfeld (1902). Munday was a printer for Weissenfeld.",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 12,
      "target": 8,
      "type": "Co-defendants",
      "category": "Co-defendants",
      "details": "Arrested together in obscenity sweep focused on George Ferdinand Springmuhl von Weissenfeld (1902)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 15,
      "target": 75,
      "type": "Co-defendants",
      "category": "Co-defendants",
      "details": "Partidge tried 1903 for 'conspiring with Harry Sidney Nichols, not in custody, to publish obscene books'. Nichols had fled to Paris in 1900",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 21,
      "target": 82,
      "type": "Co-defendants",
      "category": "Co-defendants",
      "details": "Tried together(1871)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 31,
      "target": 147,
      "type": "Co-defendants",
      "category": "Co-defendants",
      "details": "Tried together (1871)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 46,
      "target": 162,
      "type": "Co-defendants",
      "category": "Co-defendants",
      "details": "Tried together (1871)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 48,
      "target": 8,
      "type": "Co-defendants",
      "category": "Co-defendants",
      "details": "Arrested together in obscenity sweep focused on George Ferdinand Springmuhl von Weissenfeld (1902)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 70,
      "target": 182,
      "type": "Co-defendants",
      "category": "Co-defendants",
      "details": "Tried together (1871)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 91,
      "target": 117,
      "type": "Co-defendants",
      "category": "Co-defendants",
      "details": "Tried together (1864)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 94,
      "target": 131,
      "type": "Co-defendants",
      "category": "Co-defendants",
      "details": "Tried together (1847)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 94,
      "target": 181,
      "type": "Co-defendants",
      "category": "Co-defendants",
      "details": "Tried together (1847)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 108,
      "target": 160,
      "type": "Co-defendants",
      "category": "Co-defendants",
      "details": "Both convicted 1858 of selling obscene prints from 5 (or 16) Holywell St",
      "biblio_source": "Perry"
    },
    {
      "source": 138,
      "target": 148,
      "type": "Co-defendants",
      "category": "Co-defendants",
      "details": "Tried together (1869) along with Paul de Paris",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 142,
      "target": 138,
      "type": "Co-defendants",
      "category": "Co-defendants",
      "details": "Tried together (1869) along with Richard Groves",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 142,
      "target": 148,
      "type": "Co-defendants",
      "category": "Co-defendants",
      "details": "Tried together (1869) along with Michael Saunders",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 171,
      "target": 29,
      "type": "Co-defendants",
      "category": "Co-defendants",
      "details": "Arrested together in obscenity sweep focused on George Ferdinand Springmuhl von Weissenfeld (1902). Both printers for Weissenfeld.",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 177,
      "target": 81,
      "type": "Co-defendants",
      "category": "Co-defendants",
      "details": "Tried together CRIM1850_001 (1850)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 180,
      "target": 47,
      "type": "Co-defendants",
      "category": "Co-defendants",
      "details": "Both tried for selling obscene material out of 195 Wellington-terrace, Waterloo-road (1858)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 181,
      "target": 131,
      "type": "Co-defendants",
      "category": "Co-defendants",
      "details": "Tried together  (1847) along with James Reeve",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 96,
      "target": 59,
      "type": "Co-defendants",
      "category": "Co-defendants",
      "details": "Tried with Frances White and Catherine Hodgson (1838)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 96,
      "target": 24,
      "type": "Co-defendants",
      "category": "Co-defendants",
      "details": "Tried with Frances White and Catherine Hodgson (1838)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 59,
      "target": 24,
      "type": "Co-defendants",
      "category": "Co-defendants",
      "details": "Tried with Catherine Hodgson and Jane Wadsworth (1838)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 0,
      "target": 85,
      "type": "Nephew/uncle",
      "category": "Family",
      "details": "Adolphus Eugene Judge was Adolphus Henry Judge and Fanny Delannoy's son; Herbert Constantine Judge was Adolphus Henry Judge's brother",
      "biblio_source": "Inferred"
    },
    {
      "source": 1,
      "target": 0,
      "type": "Father/son",
      "category": "Family",
      "details": "Adolphus Henry Judge was Adolphus Eugene Judge's father",
      "biblio_source": "Obscenity Trials, Perry"
    },
    {
      "source": 2,
      "target": 132,
      "type": "Husband/wife",
      "category": "Family",
      "details": "Married 1881 near Lyon; 'Madame Duringe' possibly involved in the pornographic trade during his imprisonments.",
      "biblio_source": "Colligan (2019)"
    },
    {
      "source": 28,
      "target": 55,
      "type": "Husband/wife",
      "category": "Family",
      "details": "Married 1889 in Paris. Jamain was the sister of Gauché's wife Marie Adèle Jamain, revealing close familial ties within the trade",
      "biblio_source": "Colligan (2019)"
    },
    {
      "source": 42,
      "target": 13,
      "type": "Father/son",
      "category": "Family",
      "details": "Edward Dyer succeeded his father Anthony Edward Dyer White at 24 Princes Street at some point between 1843 and 1847",
      "biblio_source": "Advertising Pornography, Obscenity Trials"
    },
    {
      "source": 51,
      "target": 3,
      "type": "Father/daughter",
      "category": "Family",
      "details": "Alexis was a Brussels erotic bookseller and publisher",
      "biblio_source": "Mendes"
    },
    {
      "source": 52,
      "target": 0,
      "type": "Uncle/nephew",
      "category": "Family",
      "details": "Eugene Alfred was brother of A.H. Judge, who was father of Adolphus Eugene",
      "biblio_source": "Inferred"
    },
    {
      "source": 52,
      "target": 1,
      "type": "Brothers",
      "category": "Family",
      "details": "Both sons of Jasper Tomsett Judge and Mary Matthews. Eugene Alfred (b. 1835), Adolphus Henry (b. 1831)",
      "biblio_source": "Inferred"
    },
    {
      "source": 52,
      "target": 159,
      "type": "Brothers",
      "category": "Family",
      "details": "Both sons of Jasper Tomsett Judge and Mary Matthews. Eugene Alfred (b. 1835), Theophilus Sebastian (b. 1840)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 55,
      "target": 133,
      "type": "Sisters",
      "category": "Family",
      "details": "Eugénie married Charles Hirsch (1889); Marie Adèle married Jules Eugène Gauché (1876).",
      "biblio_source": "Colligan (2019)"
    },
    {
      "source": 58,
      "target": 108,
      "type": "Husband/wife",
      "category": "Family",
      "details": "Married 26 Oct 1845 in St. Martin-in-the Fields; ran Dugdale's shop at 5 Holywell St while he was in prison",
      "biblio_source": "Perry"
    },
    {
      "source": 60,
      "target": 3,
      "type": "Father-in-law/son-in-law",
      "category": "Family",
      "details": "Van Crombrugge married Christiaens's daughter Emilie",
      "biblio_source": "Mendes"
    },
    {
      "source": 60,
      "target": 51,
      "type": "Husband/wife",
      "category": "Family",
      "details": "Married February 1881",
      "biblio_source": "Mendes"
    },
    {
      "source": 70,
      "target": 176,
      "type": "Father/son",
      "category": "Family",
      "details": "George White (15-16, 1871) at 32 Holywell Street, described as one 'whose mother was a very extensive dealer'; William Burton (alias Andrew White) operated at 31-32 Holywell Street. According to Mendes, after Andrew White's death in 1868 his widow carried on the business until 1872, then his son Thomas at 44 Holywell Street",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 85,
      "target": 1,
      "type": "Relatives",
      "category": "Family",
      "details": "Both members of the Judge family; Herbert at 32 Holywell Street",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 86,
      "target": 87,
      "type": "Brothers",
      "category": "Family",
      "details": "Hijman directed the Amsterdam firm; Isaac set up a Paris branch",
      "biblio_source": "Mendes"
    },
    {
      "source": 90,
      "target": 11,
      "type": "Husband/wife",
      "category": "Family",
      "details": "Ann described as \"the wife of George Aitkin (or Aitken)\"; sold obscene book while James was in Newgate",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 99,
      "target": 184,
      "type": "Siblings",
      "category": "Family",
      "details": "Jessie was William Dugdale's daughter; W.J. Dugdale was his son",
      "biblio_source": "Inferred"
    },
    {
      "source": 104,
      "target": 41,
      "type": "Brothers",
      "category": "Family",
      "details": "Both publisher-booksellers; John at 19 Little Queen Street, Edward at various addresses including Middle Row, Holborn and 78 Long Acre",
      "biblio_source": "Obscenity Trials, Advertising Pornography"
    },
    {
      "source": 112,
      "target": 58,
      "type": "Uncle/niece",
      "category": "Family",
      "details": "John Lambert was brother of William Dugdale, who was father of Frances",
      "biblio_source": "Inferred"
    },
    {
      "source": 119,
      "target": 80,
      "type": "Father/son",
      "category": "Family",
      "details": "Henry described as \"his son, a young man about twenty five\"; both at Featherstone-street, City Road (1820)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 120,
      "target": 157,
      "type": "Husband/wife",
      "category": "Family",
      "details": "Susan described as \"wife of Joseph Green, who keeps a print-shop\"; both at Old-Round-court, Strand (1816)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 121,
      "target": 148,
      "type": "Brothers",
      "category": "Family",
      "details": "Joseph described as 'brother of Richard Groves'; Joseph at 34 Holywell, Richard at 33 Holywell (1869-1870)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 123,
      "target": 113,
      "type": "Brothers",
      "category": "Family",
      "details": "Both sons of William Matthews, all at Lower Arcade (1889)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 125,
      "target": 28,
      "type": "Brothers-in-law",
      "category": "Family",
      "details": "Hirsch married Eugénie Marie Jamain (1889); Gauché married her sister Marie Adèle Jamain (1876).",
      "biblio_source": "Colligan (2019)"
    },
    {
      "source": 135,
      "target": 5,
      "type": "Father/son",
      "category": "Family",
      "details": "Alfred described as 'Martin Joyner's son, bookseller of Holywell-street, 19'; both at 29 St. Martin's-Lane (1860)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 156,
      "target": 53,
      "type": "Father/son",
      "category": "Family",
      "details": "Eugene described as 'Stanislaus Gorsky's son'; both at 149 Edgeware-road (1899)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 159,
      "target": 0,
      "type": "Uncle/nephew",
      "category": "Family",
      "details": "Inferred: T.S. Judge and A.H. Judge were brothers; Adolphus Eugene was A.H.'s son",
      "biblio_source": "Inferred"
    },
    {
      "source": 159,
      "target": 1,
      "type": "Brothers",
      "category": "Family",
      "details": "Both sons of Jasper Tomsett Judge and Mary Matthews. Adolphus Henry (b. 1831), Theophilus Sebastian (b. 1840)",
      "biblio_source": "Advertising Pornography"
    },
    {
      "source": 159,
      "target": 58,
      "type": "Brother-in-law/sister-in-law",
      "category": "Family",
      "details": "T.S. Judge married Jessie Judge (nee Dugdale), who is sister of Frances Thornell (nee Dugdale)",
      "biblio_source": "Inferred"
    },
    {
      "source": 159,
      "target": 85,
      "type": "Brothers",
      "category": "Family",
      "details": "Both sons of Jasper Tomsett Judge and Mary Matthews",
      "biblio_source": "Inferred"
    },
    {
      "source": 159,
      "target": 99,
      "type": "Husband/wife",
      "category": "Family",
      "details": "Jessie Judge, nee Dugdale, William Dugdale's younger daughter",
      "biblio_source": "Advertising Pornography"
    },
    {
      "source": 163,
      "target": 58,
      "type": "Uncle/niece",
      "category": "Family",
      "details": "Thomas was brother of William Dugdale, who was father of Frances",
      "biblio_source": "Inferred"
    },
    {
      "source": 163,
      "target": 112,
      "type": "Brothers",
      "category": "Family",
      "details": "Thomas (b. 1802) and John Lambert (b. 1803) were brothers",
      "biblio_source": "Inferred"
    },
    {
      "source": 163,
      "target": 184,
      "type": "Uncle/nephew",
      "category": "Family",
      "details": "Thomas Dugdale (b. 1802) was uncle of William John Dugdale (William's son)",
      "biblio_source": "Inferred"
    },
    {
      "source": 173,
      "target": 172,
      "type": "Father/son",
      "category": "Family",
      "details": "Walter described as 'Warnforn Piper's son'; both at Musjid-road, Battersea (1887)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 174,
      "target": 155,
      "type": "Husband/wife",
      "category": "Family",
      "details": "Sophia described as 'married'; both at Broad-street, St. Giles (1868)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 177,
      "target": 58,
      "type": "Father/daughter",
      "category": "Family",
      "details": "Frances (b. 1827) married John Higdon Thornell in 1845; they ran Dugdale's shop at 5 Holywell St while he was in prison",
      "biblio_source": "Perry"
    },
    {
      "source": 177,
      "target": 99,
      "type": "Father/daughter",
      "category": "Family",
      "details": "Jessie was Dugdale's younger daughter; she and T.S. Judge took over his Wych Street shop",
      "biblio_source": "Advertising Pornography"
    },
    {
      "source": 177,
      "target": 108,
      "type": "Father-in-law/son-in-law",
      "category": "Family",
      "details": "Thornell was Dugdale's son-in-law, husband of his daughter Frances",
      "biblio_source": "Advertising Pornography"
    },
    {
      "source": 177,
      "target": 112,
      "type": "Brothers",
      "category": "Family",
      "details": "John Lambert (b. 1803) was William's (b. 1800) younger brother",
      "biblio_source": "Advertising Pornography"
    },
    {
      "source": 177,
      "target": 159,
      "type": "Father-in-law/son-in-law",
      "category": "Family",
      "details": "T.S. Judge married William Dugdale's younger daughter Jessie; described as 'the son in law and successor of the late Dugdale'",
      "biblio_source": "Obscenity Trials, Advertising Pornography"
    },
    {
      "source": 177,
      "target": 163,
      "type": "Brothers",
      "category": "Family",
      "details": "Thomas (b. 1802) was William's (b. 1800) younger brother",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 177,
      "target": 184,
      "type": "Father/son",
      "category": "Family",
      "details": "W.J. Dugdale (b. 1830) was William Dugdale's son; at 35 Holywell Street",
      "biblio_source": "Obscenity Trials, Advertising Pornography"
    },
    {
      "source": 181,
      "target": 131,
      "type": "Husband/wife",
      "category": "Family",
      "details": "Maria described as 'W.J. Fagnoit's wife'; both at No. 1, Vinegar-yard, Drury-lane (1834-1847)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 184,
      "target": 58,
      "type": "Siblings",
      "category": "Family",
      "details": "Both children of William Dugdale and Hannah Pinnell",
      "biblio_source": "Inferred"
    },
    {
      "source": 184,
      "target": 112,
      "type": "Brothers",
      "category": "Family",
      "details": "Both sons/brothers of William Dugdale",
      "biblio_source": "Inferred"
    },
    {
      "source": 186,
      "target": 113,
      "type": "Father/son",
      "category": "Family",
      "details": "William described as 'father'; John as 'son, bookseller'; all at Lower Arcade (1889)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 186,
      "target": 123,
      "type": "Father/son",
      "category": "Family",
      "details": "William described as 'father, bookseller'; Joseph as 'son, bookseller'; all at Lower Arcade (1889)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 193,
      "target": 49,
      "type": "Husband/wife",
      "category": "Family",
      "details": "Ellen described as 'wife of William Williams'; co-owners of 'The Novelty Stores'; both at 21 White Hart-street (1879)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 20,
      "target": 109,
      "type": "Brothers (probable)",
      "category": "Family",
      "details": "Same surname, both prosecuted 1881",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 37,
      "target": 46,
      "type": "Father/son (probable)",
      "category": "Family",
      "details": "Edwin Dresch Jr. prosecuted 1871; Dresch at 15 Holywell Street (1860)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 37,
      "target": 137,
      "type": "Husband/wife (probable)",
      "category": "Family",
      "details": "Both at 15 Holywell Street in 1860",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 58,
      "target": 99,
      "type": "Sisters",
      "category": "Family",
      "details": "Both daughters of William Dugdale and Hannah Pinnell",
      "biblio_source": "Perry (inferred)"
    },
    {
      "source": 61,
      "target": 177,
      "type": "Associate (probable)",
      "category": "Business",
      "details": "Glover possibly connected with Joseph Glover, a printer who worked for Dugdale c.1830",
      "biblio_source": "Advertising Pornography"
    },
    {
      "source": 64,
      "target": 147,
      "type": "Brothers (probable)",
      "category": "Family",
      "details": "Both prosecuted 1871",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 68,
      "target": 30,
      "type": "Relatives (probable)",
      "category": "Family",
      "details": "Both at 38 Wych Street; George described as print seller, Charles as shopman (1880-1892)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 69,
      "target": 83,
      "type": "Relatives (probable)",
      "category": "Family",
      "details": "George described as 17 years old (1844); Henry prosecuted 1843, both Edinburgh area",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 73,
      "target": 81,
      "type": "Associate",
      "category": "Business",
      "details": "Brooks at 17 1/2 Holywell Street — a subdivision of May's address at 17 Holywell Street; may have been working with May",
      "biblio_source": "Advertising Pornography"
    },
    {
      "source": 81,
      "target": 194,
      "type": "Associate/partner",
      "category": "Business",
      "details": "May appears to have been partner or employee of Winn; both at Holywell Street area",
      "biblio_source": "Advertising Pornography"
    },
    {
      "source": 99,
      "target": 1,
      "type": "Sister-in-law/brother-in-law",
      "category": "Family",
      "details": "Jessie was wife of T.S. Judge; A.H. Judge was T.S.'s brother",
      "biblio_source": "Inferred"
    },
    {
      "source": 99,
      "target": 52,
      "type": "Sister-in-law/brother-in-law",
      "category": "Family",
      "details": "Jessie married T.S. Judge, who is brother of Eugene Alfred Judge",
      "biblio_source": "Inferred"
    },
    {
      "source": 99,
      "target": 108,
      "type": "In-laws",
      "category": "Family",
      "details": "Jessie married T.S. Judge; her sister Frances married Thornell; both Dugdale daughters",
      "biblio_source": "Inferred"
    },
    {
      "source": 99,
      "target": 159,
      "type": "Business partners",
      "category": "Business",
      "details": "Jessie appears to have run the business while T.S. Judge was in prison (1869-1871)",
      "biblio_source": "Advertising Pornography"
    },
    {
      "source": 108,
      "target": 159,
      "type": "Brothers-in-law",
      "category": "Business",
      "details": "Both married daughters of William Dugdale: Thornell married Frances, Judge married Jessie",
      "biblio_source": "Advertising Pornography"
    },
    {
      "source": 112,
      "target": 108,
      "type": "Related by marriage",
      "category": "Business",
      "details": "J.L. Dugdale was William's brother; Thornell married William's daughter Frances",
      "biblio_source": "Inferred"
    },
    {
      "source": 112,
      "target": 159,
      "type": "Related by marriage",
      "category": "Business",
      "details": "J.L. Dugdale was William Dugdale's brother; T.S. Judge married William's daughter Jessie",
      "biblio_source": "Inferred"
    },
    {
      "source": 122,
      "target": 183,
      "type": "Relatives (probable)",
      "category": "Family",
      "details": "Both prosecuted 1834; Joseph 'the keeper of a stationer's shop in Baldwin's-Gardens'",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 137,
      "target": 46,
      "type": "Mother/son (probable)",
      "category": "Family",
      "details": "Dresch and Mary Dresch probable spouses (1860); Edwin Dresch Jr. prosecuted 1871",
      "biblio_source": "Inferred"
    },
    {
      "source": 138,
      "target": 190,
      "type": "Relatives (probable)",
      "category": "Family",
      "details": "Same surname, both work in Holywell Street/Wych Street area (1860-1872)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 149,
      "target": 114,
      "type": "Relatives (probable)",
      "category": "Family",
      "details": "Same suname; both agents in Liverpool, 1888",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 160,
      "target": 96,
      "type": "Common-law husband/wife",
      "category": "Family",
      "details": "Both at 20 Wych Street (1847)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 160,
      "target": 177,
      "type": "Brother-in-law / nephew-in-law",
      "category": "Family",
      "details": "Blacketer married Ann, daughter of William's brother Thomas; all three lived at 51 Holywell St per 1851 census",
      "biblio_source": "Perry"
    },
    {
      "source": 177,
      "target": 1,
      "type": "In-laws",
      "category": "Family",
      "details": "A.H. Judge was brother of T.S. Judge, who married Dugdale's daughter",
      "biblio_source": "Inferred"
    },
    {
      "source": 177,
      "target": 27,
      "type": "Business partners",
      "category": "Business",
      "details": "Grieves described as having 'previously been the partner of the notorious Dugdale' and 'had done the printing for such men'",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 177,
      "target": 52,
      "type": "In-laws",
      "category": "Family",
      "details": "Eugene Alfred Judge was brother of T.S. Judge, who married Dugdale's daughter",
      "biblio_source": "Inferred"
    },
    {
      "source": 177,
      "target": 66,
      "type": "Associate/possible alias",
      "category": "Business",
      "details": "Crocker may have been close associate or alias of Dugdale; sold many works Dugdale published from 199 Strand in 1844",
      "biblio_source": "Advertising Pornography"
    },
    {
      "source": 177,
      "target": 81,
      "type": "Employer/associate",
      "category": "Business",
      "details": "Co-defendants in 1850; Henry May kept shop at 17 Holywell Street and was thought to be an associate/employee of Dugdale",
      "biblio_source": "Obscenity Trials, Advertising Pornography"
    },
    {
      "source": 177,
      "target": 93,
      "type": "Employer/servant",
      "category": "Business",
      "details": "Millson identified as 'Dugdale's servant'; both at 102 Old-street / 44 Wych-street (1868)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 177,
      "target": 112,
      "type": "Brothers",
      "category": "Family",
      "details": "Both active 1847; John at Wych Street",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 177,
      "target": 179,
      "type": "Lawyer/client",
      "category": "Business",
      "details": "Dugdale's longtime legal advisor, may also dealt in obscene material",
      "biblio_source": "Advertising Pornography, Obscenity Trials"
    },
    {
      "source": 184,
      "target": 108,
      "type": "Brothers-in-law",
      "category": "Family",
      "details": "W.J. Dugdale was William Dugdale's son; Thornell married William's daughter Frances",
      "biblio_source": "Inferred"
    },
    {
      "source": 184,
      "target": 159,
      "type": "Brothers-in-law",
      "category": "Family",
      "details": "W.J. Dugdale was William Dugdale's son; T.S. Judge married William's daughter Jessie",
      "biblio_source": "Inferred"
    },
    {
      "source": 194,
      "target": 118,
      "type": "Relatives (probable)",
      "category": "Family",
      "details": "Same surname; William at 34 Holywell Street (1850, 1857), John prosecuted 1867",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 41,
      "target": 188,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "1 Vinegar yard, Brydges Street, Covent Garden (Duncombe 1822, Fagnoit 1847)",
      "biblio_source": "Shared Address"
    },
    {
      "source": 41,
      "target": 131,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "1 Vinegar yard, Brydges Street, Covent Garden (Duncombe 1822, Fagnoit 1847)",
      "biblio_source": "Shared Address"
    },
    {
      "source": 6,
      "target": 150,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "102 Wardour-street, Soho: both 1874",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 9,
      "target": 31,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "31 Holywell Street: Andrew White (1850), Charles Perry (1870)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 167,
      "target": 85,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "32 Holywell Street: Someone using the names Andrew White and John Wilson who is not William Burton (too old)  (1873), Herbert C. Judge (1875)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 9,
      "target": 152,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "31 Holywell Street: Andrew White (1850), Samuel Tyler (1870)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 12,
      "target": 48,
      "type": "Relatives (probable)",
      "category": "Shared Address",
      "details": "Both in Cambridge; lived with George Ferdinand Springmuhl von Weissenfeld and arrested together in obscenity sweep. Same surname suggests family connection (1902)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 26,
      "target": 30,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "34 Holywell Street: both 1882",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 30,
      "target": 176,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "34 Holywell Street: William Burton, alias Andrew White (1872, 1874), Charles Newbold (1882, 1892). Mendes suggests Burton could be William Lazenby.",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 34,
      "target": 81,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "38 Holywell Street, both in 1860 — \"two shops in one house\"",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 37,
      "target": 137,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "15 Holywell Street, both 1860",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 41,
      "target": 146,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "Both had shops at 78 Long Acre",
      "biblio_source": "Advertising Pornography"
    },
    {
      "source": 43,
      "target": 171,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "Shared address, 1902. Printed books for George Ferdinand Springmuhl von Weissenfeld",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 57,
      "target": 177,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "Danjer advertised as working out of 37 1/2 Holywell Street, a subdivision of Dugdale's shop. Likely an alias of Dugdale's or an associate's.",
      "biblio_source": "Advertising Pornography"
    },
    {
      "source": 67,
      "target": 161,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "40 Wych Street: Jackson (1870), Burton (1871)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 68,
      "target": 30,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "38 Wych Street: both 1887",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 68,
      "target": 32,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "38 Wych Street: both 1887",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 70,
      "target": 85,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "32 Holywell Street area: George White (1871), H.C. Judge (1875)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 79,
      "target": 92,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "68 Upper O'Connell Street: both in same location",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 81,
      "target": 73,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "17 Holywell Street (May) and 17 1/2 Holywell Street (Brooks) — subdivision of same premises (1856)",
      "biblio_source": "Advertising Pornography"
    },
    {
      "source": 84,
      "target": 105,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "16 and 17 Pall Mall: both 1890",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 85,
      "target": 143,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "32 Holywell Street: H.C. Judge (1875), Percy Smith (1892)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 91,
      "target": 1,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "30 Castle Street, Leicester Square: Brewer (1863-1865) working for Judge family",
      "biblio_source": "Advertising Pornography"
    },
    {
      "source": 95,
      "target": 100,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "40 Gray's-inn-road (1880-1881) and 313 Gray's-inn-road (1883)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 95,
      "target": 153,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "40 Gray's-inn-road (1880-1881) and 313 Gray's-inn-road (1883)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 95,
      "target": 192,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "276 Strand: Jackson (1879), George (1882)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 100,
      "target": 153,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "40 Gray's-inn-road (1880-1881) and 313 Gray's-inn-road (1883)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 103,
      "target": 62,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "33 Holywell Street: John Day (1874), Frederick Raymond (1876)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 104,
      "target": 41,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "Middle Row, Holborn: John at 10 Middle Row, Edward at 9 Middle Row — adjacent premises",
      "biblio_source": "Advertising Pornography"
    },
    {
      "source": 107,
      "target": 138,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "49 Wych Street: Harrison (1864-5, 1869 - 1872, 1875), Michael Saunders (1872)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 107,
      "target": 45,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "49 Wych Street: Harrison (1864-5 1869 - 1872, 1875), Dresch (1865)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 107,
      "target": 106,
      "type": "Son/father",
      "category": "Family",
      "details": "Listed in electoral registers 1864-66 as the younger (located at 49 Wych street) and the elder (located at 35 Holywell Street).",
      "biblio_source": ""
    },
    {
      "source": 107,
      "target": 190,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "49 Wych Street: Harrison (1864-5, 1869-1872, 1875), Saunders (1870)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 121,
      "target": 176,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "34 Holywell Street: Joseph Groves (1870), William Burton (1872, 1874); William Burton used Andrew White's name as an alias, or stood in for White",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 121,
      "target": 182,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "34 Holywell Street: Joseph Groves (1870), William Henry Payne (1871)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 135,
      "target": 5,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "29 St. Martin's-Lane, Leicester-square: both 1860",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 135,
      "target": 115,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "29 St. Martin's-Lane: Joyner and Piper (1859-1860) — Piper was 'shopman'",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 139,
      "target": 41,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "Novello and Co took over Duncombe's 78 Long Acre address",
      "biblio_source": "Advertising Pornography"
    },
    {
      "source": 142,
      "target": 159,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "2 Holywell-street: Paul de Paris (1857-1869), then T.S. Judge (1869-1870)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 146,
      "target": 101,
      "type": "Other",
      "category": "Other",
      "details": "Both connected to Bond Street addresses; Jackson at 130 New Bond Street, claimed to be successor of Brookes (1841-2), at 9 Bond Street",
      "biblio_source": "Advertising Pornography"
    },
    {
      "source": 146,
      "target": 139,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "Ralph Jackson (Jackson and Co) took over Novello and Co's 78 Long Acre address",
      "biblio_source": "Advertising Pornography"
    },
    {
      "source": 148,
      "target": 62,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "33 Holywell Street: Richard Groves (1869), Frederick Raymond (1876)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 148,
      "target": 103,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "33 Holywell Street: Richard Groves (1869), John Day (1874)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 152,
      "target": 31,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "31 Holywell Street: both 1870",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 156,
      "target": 53,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "149 Edgeware-road: both 1899",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 159,
      "target": 99,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "44 Wych Street: T.S. Judge and Jessie Judge (nee Dugdale)",
      "biblio_source": "Advertising Pornography"
    },
    {
      "source": 159,
      "target": 62,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "33 Holywell Street: T.S. Judge [uncertain] (1877), Frederick Raymond (1876)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 160,
      "target": 44,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "20 Wych Street: Blacketer (1847), Morris (1857)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 160,
      "target": 96,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "20 Wych Street: both 1847",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 168,
      "target": 28,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "Prince's-buildings, Coventry-street: Hubert (1887), then Hirsch (1898) — same shop, with Subtil in between",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 168,
      "target": 154,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "Prince's-buildings, Coventry-street: Hubert (1887), then Subtil (1890) — same shop",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 173,
      "target": 172,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "Musjid-road, Battersea: both 1887",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 176,
      "target": 26,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "34 Holywell Street: William Burton (1872, 1874), Charles Caslake (1882); William Burton used Andrew White's name as an alias, or stood in for him",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 177,
      "target": 93,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "44 Wych Street and 102 Old-street: both 1868",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 177,
      "target": 159,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "44 Wych Street: Dugdale (1868), then Judge (1869) as successor",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 184,
      "target": 106,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "35 Holywell Street (Harrison 1865-1873, Dugdale 1849-1850)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 177,
      "target": 184,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "William at 37 Holywell Street; W.J. Dugdale at 35 Holywell Street — adjacent premises",
      "biblio_source": "Obscenity Trials, Advertising Pornography"
    },
    {
      "source": 180,
      "target": 47,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "195 Wellington-terrace, Waterloo-road: both tried 1858",
      "biblio_source": "Obscenity Trials, Advertising Pornography"
    },
    {
      "source": 181,
      "target": 131,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "No. 1, Vinegar-yard, Drury-lane: both 1847",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 186,
      "target": 123,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "Lower Arcade: all three Matthews family members (1889)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 190,
      "target": 138,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "49 Wych Street / Holywell Street [reports conflict]: William (1870), Michael (1872)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 191,
      "target": 178,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "Both at 183 Fleet Street — Strange printed the periodical Paul Pry there in 1857",
      "biblio_source": "Advertising Pornography"
    },
    {
      "source": 194,
      "target": 30,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "34 Holywell Street: William Winn (1850s), Charles Newbold (1882, 1892)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 194,
      "target": 121,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "34 Holywell Street: William Winn (1850, 1857), Joseph Groves (1870)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 194,
      "target": 176,
      "type": "Shared address",
      "category": "Shared Address",
      "details": "34 Holywell Street: William Winn (1850, 1857), William Burton (as Andrew White) (1872, 1874). Mendes suggests that William Burton is William Lazenby",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 46,
      "target": 182,
      "type": "Co-defendants",
      "category": "Co-defendants",
      "details": "Tried together (1871)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 182,
      "target": 187,
      "type": "Co-defendants",
      "category": "Co-defendants",
      "details": "Tried together (1871)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 46,
      "target": 187,
      "type": "Co-defendants",
      "category": "Co-defendants",
      "details": "Tried together (1871)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 46,
      "target": 70,
      "type": "Co-defendants",
      "category": "Co-defendants",
      "details": "Tried together (1871)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 70,
      "target": 187,
      "type": "Co-defendants",
      "category": "Co-defendants",
      "details": "Tried together (1871)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 82,
      "target": 187,
      "type": "Co-defendants",
      "category": "Co-defendants",
      "details": "Tried together (1871)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 82,
      "target": 70,
      "type": "Co-defendants",
      "category": "Co-defendants",
      "details": "Tried together (1871)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 82,
      "target": 46,
      "type": "Co-defendants",
      "category": "Co-defendants",
      "details": "Tried together (1871)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 82,
      "target": 182,
      "type": "Co-defendants",
      "category": "Co-defendants",
      "details": "Tried together (1871)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 182,
      "target": 70,
      "type": "Co-defendants",
      "category": "Co-defendants",
      "details": "Tried together (1871)",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 36,
      "target": 127,
      "type": "Brothers in law",
      "category": "Family",
      "details": "Lerendu coloured and stored engravings for Delarue, a commissionaire (1846)",
      "biblio_source": "BNF Retronews 001"
    },
    {
      "source": 134,
      "target": 71,
      "type": "Wife/husband",
      "category": "Family",
      "details": "Despréaux and Goin were married",
      "biblio_source": "Catalogue des Ecris"
    },
    {
      "source": 128,
      "target": 134,
      "type": "Co-defendants",
      "category": "Co-defendants",
      "details": "Deshayes, a printseller, and Despréaux, the printseller Goin's wife, were charged with selling obscene writings, drawings, engravings (1846)",
      "biblio_source": "BNF Retronews 002"
    },
    {
      "source": 158,
      "target": 56,
      "type": "Business connection",
      "category": "Business",
      "details": "Terry, a bookseller at the Palais-Royal, was reported to the public prosecutor as selling obscene books that he kept stored at the home of the widow Fatout, residing at the cloître St-Honoré (1843)",
      "biblio_source": "BNF Retronews 003"
    },
    {
      "source": 128,
      "target": 18,
      "type": "Co-defendants",
      "category": "Co-defendants",
      "details": "Tried together 10 February 1852.",
      "biblio_source": "Drujon"
    },
    {
      "source": 78,
      "target": 97,
      "type": "Business partners",
      "category": "Business",
      "details": "Ran bookshop at 27 Galerie du Roi, Brussels; published ~120 books",
      "biblio_source": "Colligan (2024)"
    },
    {
      "source": 78,
      "target": 54,
      "type": "Business partners",
      "category": "Business",
      "details": "Co-published books in Paris and Brussels; shared bookshop at 7 passage Jouffroy, Paris; Lalouette died 1889",
      "biblio_source": "Colligan (2024)"
    },
    {
      "source": 78,
      "target": 97,
      "type": "Romantic partners",
      "category": "Family",
      "details": "Ran bookshop at 27 Galerie du Roi, Brussels; published ~120 books",
      "biblio_source": "Colligan (2024)"
    },
    {
      "source": 78,
      "target": 54,
      "type": "Romantic partners",
      "category": "Family",
      "details": "Co-published books in Paris and Brussels; shared bookshop at 7 passage Jouffroy, Paris; Lalouette died 1889",
      "biblio_source": "Colligan (2024)"
    },
    {
      "source": 36,
      "target": 19,
      "type": "Business partners",
      "category": "Business",
      "details": "Becquet, lithographer, worked and was tried with Delarue (1840)",
      "biblio_source": ""
    },
    {
      "source": 76,
      "target": 14,
      "type": "Co-defendants",
      "category": "Co-defendants",
      "details": "Tried together Cour d'assises de la Siene, 12 December 1838",
      "biblio_source": "Catalogue des Ecris"
    },
    {
      "source": 14,
      "target": 22,
      "type": "Co-defendants",
      "category": "Co-defendants",
      "details": "Tried together Cour d'assises de la Siene, 12 December 1838",
      "biblio_source": "Catalogue des Ecris"
    },
    {
      "source": 22,
      "target": 76,
      "type": "Co-defendants",
      "category": "Co-defendants",
      "details": "Tried together Cour d'assises de la Siene, 12 December 1838",
      "biblio_source": "Catalogue des Ecris"
    },
    {
      "source": 22,
      "target": 22,
      "type": "Relatives (inferred)",
      "category": "Family",
      "details": "Same surname;Tried together Cour d'assises de la Siene, 12 December 1838",
      "biblio_source": "Catalogue des Ecris"
    },
    {
      "source": 94,
      "target": 160,
      "type": "Other",
      "category": "Other",
      "details": "Spoke for Blacketer at his 1847 trial with Jane Wadsworth",
      "biblio_source": "Obscenity Trials"
    },
    {
      "source": 7,
      "target": 75,
      "type": "Co-defendants",
      "category": "Co-defendants",
      "details": "Taylor was described as Nichols's clerk (1890)",
      "biblio_source": "Obscenity Trials"
    }
  ]
};

// ========== SETUP ==========
const catColors = {
  'Family': '#F0DDB4', 'Business': '#78574D', 'Co-defendants': '#E9BB3E',
  'Shared Address': '#D44720', 'Other': '#4A6A5C'
};

// ========== BETWEENNESS CENTRALITY (Brandes' algorithm) ==========
function computeBetweenness(nodes, links) {
  const n = nodes.length;
  const idToIdx = new Map();
  nodes.forEach((node, i) => idToIdx.set(node.id, i));

  // Build adjacency list
  const adjList = Array.from({length: n}, () => []);
  links.forEach(l => {
    const s = typeof l.source === 'object' ? l.source.id : l.source;
    const t = typeof l.target === 'object' ? l.target.id : l.target;
    const si = idToIdx.get(s), ti = idToIdx.get(t);
    if (si !== undefined && ti !== undefined) {
      adjList[si].push(ti);
      adjList[ti].push(si);
    }
  });

  const CB = new Float64Array(n);

  for (let s = 0; s < n; s++) {
    const S = []; // stack
    const P = Array.from({length: n}, () => []);
    const sigma = new Float64Array(n);
    sigma[s] = 1;
    const d = new Int32Array(n).fill(-1);
    d[s] = 0;
    const Q = [s];
    let qi = 0;

    while (qi < Q.length) {
      const v = Q[qi++];
      S.push(v);
      for (const w of adjList[v]) {
        if (d[w] < 0) { Q.push(w); d[w] = d[v] + 1; }
        if (d[w] === d[v] + 1) { sigma[w] += sigma[v]; P[w].push(v); }
      }
    }

    const delta = new Float64Array(n);
    while (S.length) {
      const w = S.pop();
      for (const v of P[w]) {
        delta[v] += (sigma[v] / sigma[w]) * (1 + delta[w]);
      }
      if (w !== s) CB[w] += delta[w];
    }
  }

  // Normalize: divide by (n-1)(n-2)/2 for undirected
  const norm = (n - 1) * (n - 2) / 2;
  if (norm > 0) {
    for (let i = 0; i < n; i++) CB[i] /= norm;
  }

  nodes.forEach((node, i) => { node.centrality = CB[i]; });
}

computeBetweenness(graphData.nodes, graphData.links);

// Log top centrality nodes for reference
const topCentrality = [...graphData.nodes].sort((a,b) => b.centrality - a.centrality).slice(0, 10);
console.log('Top 10 by betweenness centrality:', topCentrality.map(n => `${n.name}: ${n.centrality.toFixed(4)}`));

// ========== EXTRACT YEARS FROM LINKS ==========
const yearRegex = /\b(1[789]\d{2})\b/g;
graphData.links.forEach(l => {
  const text = [l.type || '', l.details || '', l.biblio_source || ''].join(' ');
  const years = [...text.matchAll(yearRegex)].map(m => parseInt(m[1]));
  if (years.length > 0) {
    l.minYear = Math.min(...years);
    l.maxYear = Math.max(...years);
  } else {
    l.minYear = null;
    l.maxYear = null;
  }
});

// ========== TIMELINE STATE ==========
const YEAR_MIN = 1800, YEAR_MAX = 1910;
let filterYearMin = YEAR_MIN;
let filterYearMax = YEAR_MAX;
let timelineActive = false; // false = all periods (undated links shown)

// Determine primary category for each node (will be recomputed on filter)
function computePrimaryCats(categories) {
  graphData.nodes.forEach(n => {
    const nid = n.id;
    const linkCats = graphData.links
      .filter(l => {
        const sid = typeof l.source === 'object' ? l.source.id : l.source;
        const tid = typeof l.target === 'object' ? l.target.id : l.target;
        return (sid === nid || tid === nid) && categories.has(l.category);
      })
      .map(l => l.category);
    const catCount = {};
    linkCats.forEach(c => catCount[c] = (catCount[c] || 0) + 1);
    n.primaryCat = Object.entries(catCount).sort((a, b) => b[1] - a[1])[0]?.[0] || 'Other';
  });
}

computePrimaryCats(new Set(['Family', 'Business', 'Co-defendants', 'Shared Address', 'Other']));

const container = document.getElementById('graph-container');
const width = container.clientWidth;
const height = container.clientHeight;

const svg = d3.select('svg');
const g = svg.append('g');

const zoom = d3.zoom()
  .scaleExtent([0.2, 5])
  .on('zoom', (e) => g.attr('transform', e.transform));
svg.call(zoom);

document.getElementById('zoom-in').onclick = () => svg.transition().call(zoom.scaleBy, 1.4);
document.getElementById('zoom-out').onclick = () => svg.transition().call(zoom.scaleBy, 0.7);
document.getElementById('zoom-reset').onclick = () => svg.transition().call(zoom.transform, d3.zoomIdentity.translate(width/2, height/2).scale(0.9));

// ========== CONCENTRIC LAYOUT (most connected at centre) ==========
// Node radius based on betweenness centrality
const maxCentrality = Math.max(...graphData.nodes.map(n => n.centrality), 0.001);
function nodeRadius(d) {
  const centralityNorm = d.centrality / maxCentrality; // 0..1
  return Math.max(8, Math.min(34, 8 + Math.sqrt(centralityNorm) * 26));
}

// Sort nodes by connections (descending)
const sorted = [...graphData.nodes].sort((a, b) => b.connections - a.connections);

// Build adjacency for neighbour-aware placement
const adj = new Map();
graphData.nodes.forEach(n => adj.set(n.id, []));
graphData.links.forEach(l => {
  const s = typeof l.source === 'object' ? l.source.id : l.source;
  const t = typeof l.target === 'object' ? l.target.id : l.target;
  adj.get(s).push(t);
  adj.get(t).push(s);
});

const cx = width / 2, cy = height / 2;
const placed = new Set();

// Place nodes concentrically: highest-connected first, near center
// Each subsequent node tries to be near its already-placed neighbours
sorted.forEach((node, i) => {
  if (i === 0) {
    node.x = cx; node.y = cy;
    placed.add(node.id);
    return;
  }

  // Find average position of already-placed neighbours
  const neighPositions = adj.get(node.id)
    .filter(nid => placed.has(nid))
    .map(nid => graphData.nodes.find(n => n.id === nid));

  let targetX, targetY;
  if (neighPositions.length > 0) {
    targetX = neighPositions.reduce((s, n) => s + n.x, 0) / neighPositions.length;
    targetY = neighPositions.reduce((s, n) => s + n.y, 0) / neighPositions.length;
  } else {
    // No placed neighbours yet — place in outer ring
    const angle = (i * 2.399) + Math.random() * 0.3; // golden angle + jitter
    const r = 80 + i * 2.5;
    targetX = cx + r * Math.cos(angle);
    targetY = cy + r * Math.sin(angle);
  }

  // Spiral outward from target until we find a spot with no overlap
  const spacing = 32;
  let bestX = targetX, bestY = targetY;
  let spiralStep = 0;

  for (let attempt = 0; attempt < 80; attempt++) {
    const angle = spiralStep * 2.399; // golden angle
    const r = Math.sqrt(spiralStep) * spacing * 0.8;
    const testX = targetX + r * Math.cos(angle);
    const testY = targetY + r * Math.sin(angle);

    // Check overlap with placed nodes — extra padding for high-connection nodes
    let tooClose = false;
    for (const pid of placed) {
      const pn = graphData.nodes.find(n => n.id === pid);
      const dx = testX - pn.x, dy = testY - pn.y;
      const extraPad = (node.connections > 8 || pn.connections > 8) ? 14 : 6;
      const minDist = nodeRadius(node) + nodeRadius(pn) + extraPad;
      if (dx * dx + dy * dy < minDist * minDist) { tooClose = true; break; }
    }

    if (!tooClose) { bestX = testX; bestY = testY; break; }
    spiralStep++;
  }

  node.x = bestX; node.y = bestY;
  placed.add(node.id);
});

// ========== GENTLE FORCE for refinement only ==========
const simulation = d3.forceSimulation(graphData.nodes)
  .force('link', d3.forceLink(graphData.links).id(d => d.id).distance(d => {
    const sc = typeof d.source === 'object' ? d.source.connections : 0;
    const tc = typeof d.target === 'object' ? d.target.connections : 0;
    return 30 + Math.max(sc, tc) * 2.5;
  }).strength(0.3))
  .force('collision', d3.forceCollide().radius(d => nodeRadius(d) + 8).strength(0.95))
  .force('charge', d3.forceManyBody().strength(d => -10 - d.connections * 3).distanceMax(200))
  .alphaDecay(0.03)
  .velocityDecay(0.5)
  .alpha(0.35);

// ========== DRAW LINKS ==========
const linkG = g.append('g').attr('class', 'links');
const link = linkG.selectAll('line')
  .data(graphData.links)
  .join('line')
  .attr('class', d => `link cat-${d.category.replace(/\s/g, '-')}`)
  .attr('stroke-width', 0.8);

// ========== DRAW NODES ==========
const nodeG = g.append('g').attr('class', 'nodes');
const node = nodeG.selectAll('g')
  .data(graphData.nodes)
  .join('g')
  .attr('class', 'node')
  .call(d3.drag()
    .on('start', dragStart)
    .on('drag', dragging)
    .on('end', dragEnd));

node.append('circle')
  .attr('r', d => nodeRadius(d))
  .attr('fill', d => catColors[d.primaryCat] || '#4A6A5C');

node.append('text')
  .text(d => d.name)
  .attr('dx', d => nodeRadius(d) + 4)
  .attr('dy', 3)
  .attr('font-size', d => d.connections > 10 ? '12px' : d.connections > 5 ? '11px' : '9px');

// Show labels for highly connected nodes by default
node.selectAll('text').classed('visible', d => d.connections >= 5);

// ========== TICK ==========
simulation.on('tick', () => {
  link
    .attr('x1', d => d.source.x).attr('y1', d => d.source.y)
    .attr('x2', d => d.target.x).attr('y2', d => d.target.y);
  node.attr('transform', d => `translate(${d.x},${d.y})`);
});

// ========== DRAG ==========
function dragStart(e, d) {
  if (!e.active) simulation.alphaTarget(0.15).restart();
  d.fx = d.x; d.fy = d.y;
}
function dragging(e, d) { d.fx = e.x; d.fy = e.y; }
function dragEnd(e, d) {
  if (!e.active) simulation.alphaTarget(0);
  d.fx = null; d.fy = null;
}

// ========== INTERACTIVITY ==========
let selectedNode = null;
let activeCategories = new Set(['Family', 'Business', 'Co-defendants', 'Shared Address', 'Other']);

node.on('click', (e, d) => {
  e.stopPropagation();
  selectNode(d);
});

node.on('mouseover', (e, d) => {
  if (selectedNode) return;
  const tooltip = document.getElementById('tooltip');
  tooltip.innerHTML = `<div class="tt-name">${d.name}</div><div class="tt-info">${d.connections} connection${d.connections > 1 ? 's' : ''} · Centrality: ${d.centrality.toFixed(3)}</div>`;
  tooltip.style.opacity = 1;
  tooltip.style.left = (e.clientX - 340 + 12) + 'px';
  tooltip.style.top = (e.clientY - 10) + 'px';
  highlightNeighbors(d);
});

node.on('mouseout', () => {
  if (selectedNode) return;
  document.getElementById('tooltip').style.opacity = 0;
  resetHighlights();
});

svg.on('click', () => {
  selectedNode = null;
  resetHighlights();
  document.getElementById('info-content').innerHTML = `
    <p style="color: #8a8478; font-size: 12px; margin-top: 20px; text-align: center;">
      Click on a node to explore connections.<br>
      Drag nodes to rearrange. Scroll to zoom.
    </p>`;
  node.classed('selected', false);
});

function selectNode(d) {
  selectedNode = d;
  node.classed('selected', n => n === d);
  highlightNeighbors(d);
  document.getElementById('tooltip').style.opacity = 0;
  showNodeInfo(d);
}

function highlightNeighbors(d) {
  const neighborIds = new Set();
  neighborIds.add(d.id);

  const connectedLinks = graphData.links.filter(l => {
    const sid = typeof l.source === 'object' ? l.source.id : l.source;
    const tid = typeof l.target === 'object' ? l.target.id : l.target;
    if (sid === d.id) { neighborIds.add(tid); return true; }
    if (tid === d.id) { neighborIds.add(sid); return true; }
    return false;
  });

  node.selectAll('circle').classed('dimmed', n => !neighborIds.has(n.id));
  node.selectAll('text').classed('dimmed', n => !neighborIds.has(n.id));
  node.selectAll('text').classed('visible', n => neighborIds.has(n.id));
  link.classed('dimmed', l => {
    const sid = typeof l.source === 'object' ? l.source.id : l.source;
    const tid = typeof l.target === 'object' ? l.target.id : l.target;
    return !(sid === d.id || tid === d.id);
  });
  link.classed('highlighted', l => {
    const sid = typeof l.source === 'object' ? l.source.id : l.source;
    const tid = typeof l.target === 'object' ? l.target.id : l.target;
    return sid === d.id || tid === d.id;
  });
}

function resetHighlights() {
  node.selectAll('circle').classed('dimmed', false);
  node.selectAll('text').classed('dimmed', false);
  node.selectAll('text').classed('visible', d => d.connections >= 8);
  link.classed('dimmed', false).classed('highlighted', false);
  applyFilters();
}

function showNodeInfo(d) {
  const connections = graphData.links.filter(l => {
    const sid = typeof l.source === 'object' ? l.source.id : l.source;
    const tid = typeof l.target === 'object' ? l.target.id : l.target;
    return sid === d.id || tid === d.id;
  });

  const sources = [...new Set(d.sources.split(', '))].join(', ');

  let html = `<div class="info-title">${d.name}</div>`;
  html += `<div class="info-subtitle">${connections.length} connection${connections.length > 1 ? 's' : ''} · Centrality: ${d.centrality.toFixed(3)} · Sources: ${sources}</div>`;

  const byCat = {};
  connections.forEach(l => {
    const cat = l.category;
    if (!byCat[cat]) byCat[cat] = [];
    const sid = typeof l.source === 'object' ? l.source.id : l.source;
    const tid = typeof l.target === 'object' ? l.target.id : l.target;
    const otherId = sid === d.id ? tid : sid;
    const otherNode = graphData.nodes.find(n => n.id === otherId);
    byCat[cat].push({ link: l, other: otherNode });
  });

  const catOrder = ['Family', 'Business', 'Co-defendants', 'Shared Address', 'Other'];
  catOrder.forEach(cat => {
    if (!byCat[cat]) return;
    html += `<div class="info-section"><h3>${cat} (${byCat[cat].length})</h3>`;
    byCat[cat].forEach(({ link: l, other }) => {
      const catClass = cat.replace(/\s/g, '-');
      html += `<div class="connection-item cat-${catClass}" data-node-id="${other.id}">
        <div class="conn-person">${other.name}</div>
        <div class="conn-type">${l.type}</div>
        <div class="conn-detail">${l.details}</div>
      </div>`;
    });
    html += `</div>`;
  });

  document.getElementById('info-content').innerHTML = html;

  document.querySelectorAll('.connection-item').forEach(el => {
    el.addEventListener('click', () => {
      const nodeId = parseInt(el.dataset.nodeId);
      const targetNode = graphData.nodes.find(n => n.id === nodeId);
      if (targetNode) selectNode(targetNode);
    });
  });
}

// ========== SEARCH WITH DROPDOWN ==========
const searchInput = document.getElementById('search');
const dropdown = document.getElementById('search-dropdown');
let dropdownIndex = -1;

function updateDropdown(query) {
  dropdown.innerHTML = '';
  dropdownIndex = -1;
  if (!query) { dropdown.style.display = 'none'; return; }
  const matches = graphData.nodes
    .filter(n => n.name.toLowerCase().includes(query))
    .sort((a, b) => {
      const aStart = a.name.toLowerCase().startsWith(query) ? 0 : 1;
      const bStart = b.name.toLowerCase().startsWith(query) ? 0 : 1;
      return aStart - bStart || b.connections - a.connections;
    })
    .slice(0, 15);
  if (!matches.length) { dropdown.style.display = 'none'; return; }
  matches.forEach((m, i) => {
    const div = document.createElement('div');
    div.className = 'dropdown-item';
    div.innerHTML = `${m.name}<span class="item-connections">${m.connections} connections</span>`;
    div.addEventListener('mousedown', (e) => {
      e.preventDefault();
      searchInput.value = m.name;
      dropdown.style.display = 'none';
      selectNode(m);
    });
    dropdown.appendChild(div);
  });
  dropdown.style.display = 'block';
}

function highlightMatches(query) {
  const matches = graphData.nodes.filter(n => n.name.toLowerCase().includes(query));
  const matchIds = new Set(matches.map(n => n.id));
  node.selectAll('circle').classed('dimmed', n => !matchIds.has(n.id));
  node.selectAll('text').classed('visible', n => matchIds.has(n.id));
  node.selectAll('text').classed('dimmed', n => !matchIds.has(n.id));
  link.classed('dimmed', true).classed('highlighted', false);
}

searchInput.addEventListener('input', (e) => {
  const query = e.target.value.toLowerCase().trim();
  if (!query) {
    resetHighlights();
    selectedNode = null;
    node.classed('selected', false);
    dropdown.style.display = 'none';
    return;
  }
  highlightMatches(query);
  updateDropdown(query);
});

searchInput.addEventListener('keydown', (e) => {
  const items = dropdown.querySelectorAll('.dropdown-item');
  if (!items.length || dropdown.style.display === 'none') return;
  if (e.key === 'ArrowDown') {
    e.preventDefault();
    dropdownIndex = Math.min(dropdownIndex + 1, items.length - 1);
    items.forEach((it, i) => it.classList.toggle('active', i === dropdownIndex));
    items[dropdownIndex].scrollIntoView({ block: 'nearest' });
  } else if (e.key === 'ArrowUp') {
    e.preventDefault();
    dropdownIndex = Math.max(dropdownIndex - 1, 0);
    items.forEach((it, i) => it.classList.toggle('active', i === dropdownIndex));
    items[dropdownIndex].scrollIntoView({ block: 'nearest' });
  } else if (e.key === 'Enter') {
    e.preventDefault();
    if (dropdownIndex >= 0 && dropdownIndex < items.length) {
      items[dropdownIndex].dispatchEvent(new MouseEvent('mousedown'));
    }
  } else if (e.key === 'Escape') {
    dropdown.style.display = 'none';
  }
});

searchInput.addEventListener('blur', () => { dropdown.style.display = 'none'; });
searchInput.addEventListener('focus', () => {
  const query = searchInput.value.toLowerCase().trim();
  if (query) updateDropdown(query);
});

// ========== FILTERS ==========
document.querySelectorAll('.filter-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    const cat = btn.dataset.cat;
    if (cat === 'All') {
      const allActive = document.querySelectorAll('.filter-btn:not([data-cat="All"])');
      const allOn = [...allActive].every(b => b.classList.contains('active'));
      allActive.forEach(b => b.classList.toggle('active', !allOn));
      btn.classList.toggle('active', !allOn);
      activeCategories = allOn ? new Set() : new Set(['Family', 'Business', 'Co-defendants', 'Shared Address', 'Other']);
    } else {
      btn.classList.toggle('active');
      if (btn.classList.contains('active')) activeCategories.add(cat);
      else activeCategories.delete(cat);
      const allBtn = document.querySelector('.filter-btn[data-cat="All"]');
      allBtn.classList.toggle('active', activeCategories.size === 5);
    }
    applyFilters();
  });
});

function linkPassesFilters(l) {
  // Category filter
  if (!activeCategories.has(l.category)) return false;
  // Timeline filter
  if (timelineActive) {
    if (l.minYear === null) return false; // undated links hidden when filtering
    if (l.maxYear < filterYearMin || l.minYear > filterYearMax) return false;
  }
  return true;
}

function applyFilters() {
  link.style('display', l => linkPassesFilters(l) ? null : 'none');

  const visibleNodeIds = new Set();
  graphData.links.forEach(l => {
    if (linkPassesFilters(l)) {
      const sid = typeof l.source === 'object' ? l.source.id : l.source;
      const tid = typeof l.target === 'object' ? l.target.id : l.target;
      visibleNodeIds.add(sid);
      visibleNodeIds.add(tid);
    }
  });

  node.style('display', d => visibleNodeIds.has(d.id) ? null : 'none');

  // Recompute primary categories based on active filters and recolour nodes
  graphData.nodes.forEach(n => {
    const nid = n.id;
    const visibleLinkCats = graphData.links
      .filter(l => {
        const sid = typeof l.source === 'object' ? l.source.id : l.source;
        const tid = typeof l.target === 'object' ? l.target.id : l.target;
        return (sid === nid || tid === nid) && linkPassesFilters(l);
      })
      .map(l => l.category);
    const catCount = {};
    visibleLinkCats.forEach(c => catCount[c] = (catCount[c] || 0) + 1);
    n.primaryCat = Object.entries(catCount).sort((a, b) => b[1] - a[1])[0]?.[0] || 'Other';
  });
  node.selectAll('circle').attr('fill', d => catColors[d.primaryCat] || '#4A6A5C');

  // Update stats
  const visibleLinks = graphData.links.filter(l => linkPassesFilters(l)).length;
  const suffix = timelineActive ? ` · ${filterYearMin}–${filterYearMax}` : '';
  document.getElementById('stats').innerHTML = `${visibleNodeIds.size} nodes · ${visibleLinks} edges${suffix} · Scroll to zoom · Drag to pan`;
}

// ========== DUAL-HANDLE TIMELINE SLIDER ==========
const sliderContainer = document.getElementById('range-slider-container');
const rangeFill = document.getElementById('range-fill');
const thumbMin = document.getElementById('thumb-min');
const thumbMax = document.getElementById('thumb-max');
const timelineLabel = document.getElementById('timeline-label');
const timelineReset = document.getElementById('timeline-reset');

function yearToPercent(year) { return ((year - YEAR_MIN) / (YEAR_MAX - YEAR_MIN)) * 100; }
function percentToYear(pct) {
  const raw = YEAR_MIN + (pct / 100) * (YEAR_MAX - YEAR_MIN);
  return Math.round(raw / 5) * 5; // snap to nearest 5 years
}

function updateSliderUI() {
  const pMin = yearToPercent(filterYearMin);
  const pMax = yearToPercent(filterYearMax);
  thumbMin.style.left = pMin + '%';
  thumbMax.style.left = pMax + '%';
  rangeFill.style.left = pMin + '%';
  rangeFill.style.width = (pMax - pMin) + '%';

  timelineActive = !(filterYearMin === YEAR_MIN && filterYearMax === YEAR_MAX);
  if (timelineActive) {
    timelineLabel.innerHTML = `${filterYearMin}–${filterYearMax} <span id="timeline-reset" style="font-size:9px;color:#872a0f;cursor:pointer;text-decoration:underline;font-weight:400">reset</span>`;
    timelineLabel.querySelector('#timeline-reset').addEventListener('click', () => {
      filterYearMin = YEAR_MIN;
      filterYearMax = YEAR_MAX;
      updateSliderUI();
      applyFilters();
    });
  } else {
    timelineLabel.innerHTML = `All periods (${YEAR_MIN}–${YEAR_MAX})`;
  }
}

function initThumbDrag(thumbEl, isMin) {
  let dragging = false;

  function onPointerDown(e) {
    dragging = true;
    e.preventDefault();
    document.addEventListener('pointermove', onPointerMove);
    document.addEventListener('pointerup', onPointerUp);
  }

  function onPointerMove(e) {
    if (!dragging) return;
    const rect = sliderContainer.getBoundingClientRect();
    let pct = ((e.clientX - rect.left) / rect.width) * 100;
    pct = Math.max(0, Math.min(100, pct));
    let year = percentToYear(pct);

    if (isMin) {
      year = Math.min(year, filterYearMax - 5);
      filterYearMin = Math.max(YEAR_MIN, year);
    } else {
      year = Math.max(year, filterYearMin + 5);
      filterYearMax = Math.min(YEAR_MAX, year);
    }
    updateSliderUI();
    applyFilters();
  }

  function onPointerUp() {
    dragging = false;
    document.removeEventListener('pointermove', onPointerMove);
    document.removeEventListener('pointerup', onPointerUp);
  }

  thumbEl.addEventListener('pointerdown', onPointerDown);
}

initThumbDrag(thumbMin, true);
initThumbDrag(thumbMax, false);
updateSliderUI();

// ========== STATS ==========
document.getElementById('header-stats').textContent = `${graphData.nodes.length} individuals · ${graphData.links.length} connections`;
document.getElementById('stats').innerHTML = `${graphData.nodes.length} nodes · ${graphData.links.length} edges · Scroll to zoom · Drag to pan`;

// Initial zoom
svg.call(zoom.transform, d3.zoomIdentity.translate(width / 2 - width * 0.4, height / 2 - height * 0.4).scale(0.8));
</script>

</body>
</html>
